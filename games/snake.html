<!doctype html><html><head><meta charset="utf-8"><title>贪吃蛇</title><link rel="icon" href="/images/favicon-32x32-next.png" type="image/x-icon"><style>::selection{color:#fff;background:0 0}::-moz-selection{color:#fff;background:0 0}*{margin:0;padding:0;font-family:VT323}body{background-color:grey}.wrap{margin-left:auto;margin-right:auto}header{width:340px;font-size:0}canvas{display:none;border-style:solid;border-width:10px;border-color:#fff}canvas:focus{outline:0}h1{display:inline-block;width:100px;font-size:32px;color:#fff}.score{display:inline-block;width:240px;font-size:20px;color:#fff;text-align:right}.score_value{font-size:inherit}#gameover a,#menu a,#setting a{display:block}#gameover a,#menu a:hover,#setting a:hover{cursor:pointer}#gameover a:hover::before,#menu a:hover::before,#setting a:hover::before{content:">";margin-right:10px}#menu{display:block;width:340px;padding-top:95px;padding-bottom:95px;font-size:40px;margin-left:auto;margin-right:auto;text-align:center;color:#fff}#menu h2{-webkit-animation:logo-ani 1s linear infinite;animation:logo-ani 1s linear infinite;margin-bottom:30px}#menu a{font-size:30px}@-webkit-keyframes logo-ani{50%{-webkit-transform:scale(1.3,1.3)}100%{-webkit-transform:scale(1,1)}}@keyframes logo-ani{50%{transform:scale(1.3,1.3)}100%{transform:scale(1,1)}}#gameover{display:none;width:340px;padding-top:95px;padding-bottom:95px;margin-left:auto;margin-right:auto;text-align:center;font-size:30px;color:#fff}#gameover p{margin-top:25px;font-size:20px}#setting{display:none;width:340px;margin-left:auto;margin-right:auto;padding-top:85px;padding-bottom:85px;font-size:30px;color:#fff;text-align:center}#setting h2{margin-bottom:15px}#setting p{margin-top:10px}#setting input{display:none}#setting label{cursor:pointer}#setting input:checked+label{background-color:#fff;color:#000}</style></head><body><button><a href="/games">返回游戏馆</a></button><header class="wrap"><h1>Snake</h1><p class="score">Score: <span id="score_value">0</span></p></header><canvas class="wrap" id="snake" width="520" height="520" tabindex="1"></canvas><div id="gameover"><h2>Game Over</h2><p>press <span style="background-color:#fff;color:#000">space</span> to begin a</p><a id="newgame_gameover">new game</a> <a id="setting_gameover">settings</a></div><div id="setting"><h2>Settings</h2><a id="newgame_setting">new game</a><p>Speed: <input id="speed1" type="radio" name="speed" value="100" checked> <label for="speed1">Slow</label> <input id="speed2" type="radio" name="speed" value="75"> <label for="speed2">Normal</label> <input id="speed3" type="radio" name="speed" value="55"> <label for="speed3">Fast</label></p><p>Wall: <input id="wallon" type="radio" name="wall" value="1" checked> <label for="wallon">On</label> <input id="walloff" type="radio" name="wall" value="0"> <label for="walloff">Off</label></p></div><div id="menu"><h2>Snake</h2><a id="newgame_menu">new game</a> <a id="setting_menu">settings</a></div><script>!function(){var l,i,y,c,d,a,s,r,n,t,o,u,m,g,f,h,k,x,p,v,w={x:0,y:0},E=function(e,n){i.fillStyle="#FFFFFF",i.fillRect(10*e,10*n,10,10)},b=function(){w.x=Math.floor(Math.random()*(l.width/10-1)),w.y=Math.floor(Math.random()*(l.height/10-1));for(var e=0;e<y.length;e++)B(w.x,w.y,y[e].x,y[e].y)&&b()},B=function(e,n,t,o){return e==t&&n==o},F=function(e){x.innerHTML=String(e)},I=function(){var e=y[0].x,n=y[0].y;switch(c=d){case 0:n--;break;case 1:e++;break;case 2:n++;break;case 3:e--}if(y.pop(),y.unshift({x:e,y:n}),1==r){if(y[0].x<0||y[0].x==l.width/10||y[0].y<0||y[0].y==l.height/10)return void L(3)}else for(var t=0,o=y.length;t<o;t++)y[t].x<0&&(y[t].x=y[t].x+l.width/10),y[t].x==l.width/10&&(y[t].x=y[t].x-l.width/10),y[t].y<0&&(y[t].y=y[t].y+l.height/10),y[t].y==l.height/10&&(y[t].y=y[t].y-l.height/10);for(t=1;t<y.length;t++)if(y[0].x==y[t].x&&y[0].y==y[t].y)return void L(3);B(y[0].x,y[0].y,w.x,w.y)&&(y[y.length]={x:y[0].x,y:y[0].y},F(s+=1),b(),E(w.x,w.y)),i.beginPath(),i.fillStyle="#000000",i.fillRect(0,0,l.width,l.height);for(t=0;t<y.length;t++)E(y[t].x,y[t].y);E(w.x,w.y),setTimeout(I,a)},_=function(){L(0),n.focus(),y=[];for(var e=4;0<=e;e--)y.push({x:e,y:15});d=1,F(s=0),b(),l.onkeydown=function(e){var n;e=e||window.event,38==(n=e.keyCode)&&2!=c?d=0:39==n&&3!=c?d=1:40==n&&0!=c?d=2:37==n&&1!=c&&(d=3)},I()},C=function(e){a=e},M=function(e){0==(r=e)&&(n.style.borderColor="#606060"),1==r&&(n.style.borderColor="#FFFFFF")},L=function(e){switch(e){case 0:n.style.display="block",t.style.display="none",o.style.display="none",u.style.display="none";break;case 1:n.style.display="none",t.style.display="block",o.style.display="none",u.style.display="none";break;case 2:n.style.display="none",t.style.display="none",o.style.display="block",u.style.display="none";break;case 3:n.style.display="none",t.style.display="none",o.style.display="none",u.style.display="block"}};window.onload=function(){l=document.getElementById("snake"),i=l.getContext("2d"),n=document.getElementById("snake"),t=document.getElementById("menu"),u=document.getElementById("gameover"),o=document.getElementById("setting"),m=document.getElementById("newgame_menu"),g=document.getElementById("newgame_setting"),f=document.getElementById("newgame_gameover"),h=document.getElementById("setting_menu"),k=document.getElementById("setting_gameover"),x=document.getElementById("score_value"),p=document.getElementsByName("speed"),v=document.getElementsByName("wall"),m.onclick=function(){_()},f.onclick=function(){_()},g.onclick=function(){_()},h.onclick=function(){L(2)},k.onclick=function(){L(2)},C(150),M(1),L("menu");for(var e=0;e<p.length;e++)p[e].addEventListener("click",function(){for(var e=0;e<p.length;e++)p[e].checked&&C(p[e].value)});for(e=0;e<v.length;e++)v[e].addEventListener("click",function(){for(var e=0;e<v.length;e++)v[e].checked&&M(v[e].value)});document.onkeydown=function(e){"block"==u.style.display&&32==(e=e||window.event).keyCode&&_()}}}()</script></body></html>