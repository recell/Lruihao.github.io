<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><title>2048(ÊâãÊú∫)</title><link rel="icon" href="/images/favicon-32x32-next.png" type="image/x-icon"><meta name="viewport" content="width=device-width,initial-scale=1"><style type="text/css">@charset "UTF-8";*{box-sizing:border-box}a{color:#1b9aaa;text-decoration:none;border-bottom:1px solid currentColor}a:hover{color:#14727e}a:active,a:focus{color:#0d4a52}body,html{position:relative;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:Arvo,Helvetica,sans-serif;font-family:12px;color:#555;background:grey;overflow:hidden}strong{font-weight:700}p{line-height:1.6}.inspired{margin-top:1em;font-size:.9rem;color:#9a9a95}header{color:#f8ffe5;text-align:center}header span{display:inline-block;box-sizing:border-box;width:2.5rem;height:2.5rem;line-height:2.5rem;margin:0 .25rem;background:#ffc43d}header span:nth-of-type(2){background:#ef476f}header span:nth-of-type(3){background:#1b9aaa}header span:nth-of-type(4){background:#06d6a0}h1{font-size:2.2rem}.directions{padding:2rem;border-top:1px solid #9a9a95;border-bottom:1px solid #9a9a95}.container{margin:0 auto;padding-bottom:3.5rem;-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%;max-width:550px;text-align:center}header .container{padding:0;padding:2rem 4rem;max-width:900px}.scores{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.score-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:1.8rem;font-size:1.2rem;line-height:1;color:#555}.score-container.best-score{color:#9a9a95}.score{margin-left:1rem;position:relative;font-weight:700;font-size:1.5rem;vertical-align:middle;text-align:right}.game{position:relative;margin:0 auto;background:#9a9a95;padding:7px;display:inline-block;border-radius:3px;box-sizing:border-box}.tile-container{border-radius:6px;position:relative;width:400px;height:400px}.background,.tile{display:block;color:#f8ffe5;position:absolute;width:100px;height:100px;box-sizing:border-box;text-align:center}.background{z-index:1;text-align:center;border:7px solid #9a9a95;background-color:#f8ffe5}.tile{opacity:0;z-index:2;background:#ffc43d;color:#f8ffe5;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:1.8rem;align-items:center;-webkit-transition:110ms ease-in-out;transition:110ms ease-in-out;border-radius:3px;border:7px solid #9a9a95;box-sizing:border-box}.tile--4{background:#ef476f;color:#f8ffe5}.tile--8{background:#1b9aaa;color:#f8ffe5}.tile--16{background:#06d6a0;color:#f8ffe5}.tile--32{background:#f37694;color:#f8ffe5}.tile--64{background:#22c2d6;color:#f8ffe5}.tile--128{background:#17f8be;color:#f8ffe5}.tile--256{background:#ffd470;color:#f8ffe5}.tile--512{background:#eb184a;color:#f8ffe5}.tile--1024{background:#14727e;color:#f8ffe5}.tile--2048{background:#05a47b;color:#f8ffe5}.tile--pop{-webkit-animation:pop .3s ease-in-out;animation:pop .3s ease-in-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.tile--shrink{-webkit-animation:shrink .5s ease-in-out;animation:shrink .5s ease-in-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.add{position:absolute;opacity:0;left:120%;top:0;font-size:1rem;color:#1b9aaa}.add.active{-webkit-animation:add .8s ease-in-out;animation:add .8s ease-in-out}@-webkit-keyframes add{0%{opacity:1;top:0}100%{opacity:0;top:-100%}}@keyframes add{0%{opacity:1;top:0}100%{opacity:0;top:-100%}}@-webkit-keyframes pop{0%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}90%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes pop{0%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}90%{-webkit-transform:scale(1.1);transform:scale(1.1);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes shrink{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.9);transform:scale(.9);opacity:.9}}@keyframes shrink{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.9);transform:scale(.9);opacity:.9}}.end{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:rgba(85,85,85,.9);color:#fff;font-size:2rem;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.end btn{margin-top:1rem}.end.active{opacity:1;z-index:1000}.monkey{font-size:3rem;margin:1rem 0}.btn{font-family:inherit;font-size:1rem;border:none;background:#1b9aaa;letter-spacing:1px;color:#fff;font-weight:300;padding:.9em 1.5em;border-radius:3px;border:1px solid transparent;cursor:pointer}.btn:hover{background-color:#14727e}.btn:active{background-color:#0d4a52}.btn:focus{box-shadow:0 0 10px #0d4a52 inset;outline:0}.not-recommended{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:0}.not-recommended *+*{margin-left:10px}.not-recommended__item+.not-recommended__annotation:before{font-size:30px;content:"üòê"}.not-recommended__item:hover+.not-recommended__annotation:before{content:"üòü"}.not-recommended__item:focus+.not-recommended__annotation:before{content:"üòÑ"}.not-recommended__item:active+.not-recommended__annotation:before{content:"üò®"}</style><style type="text/css">a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}</style></head><body><a href="/games">ËøîÂõûÊ∏∏ÊàèÈ¶Ü</a><div class="container"><div class="scores"><div class="score-container best-score">ÊúÄ‰Ω≥:<div class="score"><div id="bestScore">0</div></div></div><div class="score-container">ÂàÜÊï∞:<div class="score"><div id="score">0</div><div class="add" id="add"></div></div></div></div><div class="game"><div id="tile-container" class="tile-container"></div><div class="end" id="end">Ê∏∏ÊàèÁªìÊùü<div class="monkey"></div><button class="btn not-recommended__item js-restart-btn" id="try-again">ÂÜçËØï‰∏ÄÊ¨°</button></div></div><header><div class="container"><span>2</span><span>0</span><span>4</span><span>8</span></div></header><div class="not-recommended"><button class="btn not-recommended__item js-restart-btn" id="restart">ÈáçÊñ∞ÂêØÂä®Ê∏∏Êàè</button></div></div><script type="text/javascript">"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},game=null,bestScore=0,scoreDiv=document.getElementById("score"),bestScoreDiv=document.getElementById("bestScore"),addDiv=document.getElementById("add"),endDiv=document.getElementById("end"),size=4,nextId=1,score=0;function initGame(){game=Array(size*size).fill(null),initBestScore()}function initBestScore(){bestScore=localStorage.getItem("bestScore")||0,bestScoreDiv.innerHTML=bestScore}function updateDOM(e,t){var n=getNewElementsDOM(e,t),r=getExistingElementsDOM(e,t);removeElements(getMergedTiles(t)),drawGame(n,!0),drawGame(r)}function removeElements(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var a=i,o=function(){if(d){if(c>=s.length)return"break";u=s[c++]}else{if((c=s.next()).done)return"break";u=c.value}var e=u,t=document.getElementById(e);positionTile(a,t),t.classList.add("tile--shrink"),setTimeout(function(){t.remove()},100)},s=a.mergedIds,d=Array.isArray(s),c=0;for(s=d?s:s[Symbol.iterator]();;){var u;if("break"===o())break}}}function getMergedTiles(e){return e.filter(function(e){return e&&e.mergedIds})}function getNewElementsDOM(e,t){var n=e.filter(function(e){return e}).map(function(e){return e.id});return t.filter(function(e){return e&&-1===n.indexOf(e.id)})}function getExistingElementsDOM(e,t){var n=e.filter(function(e){return e}).map(function(e){return e.id});return t.filter(function(e){return e&&-1!==n.indexOf(e.id)})}function drawBackground(){var e=document.getElementById("tile-container");e.innerHTML="";for(var t=0;t<game.length;t++){game[t];var n=document.createElement("div"),r=t%size,i=Math.floor(t/size);n.style.top=100*i+"px",n.style.left=100*r+"px",n.classList.add("background"),e.appendChild(n)}}function positionTile(e,t){var n=e.index%size,r=Math.floor(e.index/size);t.style.top=100*r+"px",t.style.left=100*n+"px"}function drawGame(e,t){for(var n=document.getElementById("tile-container"),r=0;r<e.length;r++){var i=e[r];if(i)if(t)!function(){var e=document.createElement("div");positionTile(i,e),e.classList.add("tile","tile--"+i.value),e.id=i.id,setTimeout(function(){e.classList.add("tile--pop")},i.mergedIds?1:150),e.innerHTML="<p>"+i.value+"</p>",n.appendChild(e)}();else{var a=document.getElementById(i.id);positionTile(i,a)}}}function gameOver(){if(0===game.filter(function(e){return null===e}).length)return!game.find(function(e,t){var n=!(!game[t+1]||(t+1)%4==0)&&e.value===game[t+1].value,r=!!game[t+4]&&e.value===game[t+4].value;return!(!n&&!r)})}function generateNewNumber(){return 100*Math.random()<=90?2:4}function addRandomNumber(){var e=game.map(function(e,t){return t}).filter(function(e){return null===game[e]});if(0!==e.length){var t=e[Math.floor(Math.random()*e.length)],n={id:nextId++,index:t,value:generateNewNumber()};game.splice(t,1,n)}}function getIndexForPoint(e,t){return t*size+e}function reflectGrid(e){for(var t=Array(size*size).fill(0),n=0;n<size;n++)for(var r=0;r<size;r++){var i=getIndexForPoint(r,n),a=getIndexForPoint(size-r-1,n);t[i]=e[a]}return t}function rotateLeft90Deg(e){for(var t=Array(size*size).fill(0),n=0;n<size;n++)for(var r=0;r<size;r++){var i=getIndexForPoint(r,n),a=getIndexForPoint(size-1-n,r);t[i]=e[a]}return t}function rotateRight90Deg(e){for(var t=Array(size*size).fill(0),n=0;n<size;n++)for(var r=0;r<size;r++){var i=getIndexForPoint(r,n),a=getIndexForPoint(n,size-1-r);t[i]=e[a]}return t}function shiftGameRight(e){var t=reflectGrid(e);return reflectGrid(t=shiftGameLeft(t))}function shiftGameLeft(e){for(var t=[],n=0,r=0;r<size;r++){var i=4*r,a=size+4*r,o=e.slice(i,a).filter(function(e){return e}),s=o,d=Array.isArray(s),c=0;for(s=d?s:s[Symbol.iterator]();;){var u;if(d){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}delete u.mergedIds}for(var l=0;l<o.length-1;l++)if(o[l].value===o[l+1].value){var m=2*o[l].value;o[l]={id:nextId++,mergedIds:[o[l].id,o[l+1].id],value:m},o.splice(l+1,1),score+=m,n+=m}for(;o.length<size;)o.push(null);t=[].concat(t,o)}return 0<n&&(scoreDiv.innerHTML=score,addDiv.innerHTML="+"+n,addDiv.classList.add("active"),setTimeout(function(){addDiv.classList.remove("active")},800),bestScore<score&&(localStorage.setItem("bestScore",score),initBestScore())),t}function shiftGameUp(e){var t=rotateLeft90Deg(e);return rotateRight90Deg(t=shiftGameLeft(t))}function shiftGameDown(e){var t=rotateRight90Deg(e);return rotateLeft90Deg(t=shiftGameLeft(t))}for(var buttons=document.querySelectorAll(".js-restart-btn"),length=buttons.length,i=0;i<length;i++)document.addEventListener?buttons[i].addEventListener("click",function(){newGameStart()}):buttons[i].attachEvent("onclick",function(){newGameStart()});document.addEventListener("keydown",handleKeypress),document.addEventListener("touchstart",handleTouchStart,!1),document.addEventListener("touchmove",handleTouchMove,!1);var xDown=null,yDown=null;function handleTouchStart(e){xDown=e.touches[0].clientX,yDown=e.touches[0].clientY}function handleTouchMove(e){var t=[].concat(game);if(xDown&&yDown){var n=e.touches[0].clientX,r=e.touches[0].clientY,i=xDown-n,a=yDown-r;game=(game=Math.abs(i)>Math.abs(a)?0<i?shiftGameLeft(game):shiftGameRight(game):0<a?shiftGameUp(game):shiftGameDown(game)).map(function(e,t){return e?_extends({},e,{index:t}):null}),addRandomNumber(),updateDOM(t,game),gameOver()?setTimeout(function(){endDiv.classList.add("active")},800):yDown=xDown=null}}function handleKeypress(e){var t=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey,n=event.which,r=[].concat(game);if(!t){switch(event.preventDefault(),n){case 37:game=shiftGameLeft(game);break;case 38:game=shiftGameUp(game);break;case 39:game=shiftGameRight(game);break;case 40:game=shiftGameDown(game)}if(game=game.map(function(e,t){return e?_extends({},e,{index:t}):null}),addRandomNumber(),updateDOM(r,game),gameOver())return void setTimeout(function(){endDiv.classList.add("active")},800)}}function newGameStart(){document.getElementById("tile-container").innerHTML="",endDiv.classList.remove("active"),score=0,scoreDiv.innerHTML=score,initGame(),drawBackground();var e=[].concat(game);addRandomNumber(),addRandomNumber(),updateDOM(e,game)}newGameStart()</script></body></html>