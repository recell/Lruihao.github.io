<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>滑稽跳跳跳</title><link rel="icon" href="/images/favicon-32x32-next.png" type="image/x-icon"><style type="text/css">*{margin:0;padding:0}#canvas{display:block;margin:10px auto;border:1px solid #bbb;outline:0}.box{position:relative}</style><script src="/js/games/jquery-tiao.js"></script></head><body bgcolor="gray"><button><a href="/games">返回游戏馆</a></button><br><br><br><br><div class="box"><canvas id="canvas" tabindex="0"></canvas></div><script type="text/javascript">$(document).ready(function(s){var e=document.getElementById("canvas"),h=e.getContext("2d"),t=$("#canvas"),l=t.css("cursor"),p=600,u=600,f=0,i=0,r=0,n=0,a=r,o=n,c=p/2,y=u/2,g=[c,y],b=0,d=1,R=30,k=d,v="",x=20,S=x/2,m=!0,I=!1,P=!1,w=!1,M=!1,T=!1,C=!1,A="20px",F=1,q=[],W=[],D=[],B=[],z=[],E=[],X=[],Y=[],j=[],G=[],H=[],J=[],K=[],L=[],N=[],O=[],Q=[],U=0,V=.2,Z=0,_=0,ss=-7,es=0,hs=0,ts=0,ls=0,ps=1,us=Math.PI/2,fs=!1,is=!1,rs=!0,ns=!1,as=!1,os=10,cs=!0,ys=!1,gs="#fff",bs="#999",ds="#999",Rs="#999",ks="#fff",vs=100,xs=100,Ss=60,ms=30,Is=85,Ps=40,ws=xs,Ms=vs,Ts=0,Cs=[];function As(){h.fillStyle="#fff",h.fillRect(0,0,p,u),m&&(h.fillStyle="#999",h.fillRect(0,0,p,u),h.font=A+" 微软雅黑",h.fillStyle="#fff",h.textAlign="center",h.fillText("开始游戏",300,310),h.fillStyle=gs,h.font="16px 微软雅黑",h.fillText("选关",300,380),h.beginPath(),h.strokeStyle="#fff",h.strokeRect(250,288,100,30),h.closePath(),h.beginPath(),h.strokeStyle=gs,h.strokeRect(270,362,60,24),h.closePath()),T&&function(){h.fillStyle="#999",h.fillRect(0,0,p,u);for(var s=0;s<R;s++)Cs[s]||(Cs[s]={}),Cs[s].x=vs+Ts*Is,Cs[s].y=xs,h.beginPath(),h.strokeStyle=Cs[s].c||"#fff",h.strokeRect(vs+Ts*Is,xs,Ss,ms),h.closePath(),h.fillStyle=Cs[s].c||"#fff",h.font="16px 微软雅黑",h.fillText(s+1,vs+Ts*Is+Ss/2,xs+2*ms/3),Ts++,(s+1)%5==0&&1!=s&&(xs+=Ps,vs=Ms,Ts=0);h.fillStyle=ks,h.font="16px 微软雅黑",h.fillText("返回",300,500),h.beginPath(),h.strokeStyle=ks,h.strokeRect(270,482,60,24),h.closePath(),xs=ws,vs=Ms,Ts=0}(),P&&function(){h.fillStyle="#999";for(var s=0;s<q.length;s++)h.fillRect(q[s][0],q[s][1],q[s][2],q[s][3]);h.fillStyle="#B9CDF6";for(var s=0;s<O.length;s++)h.fillRect(O[s][0],O[s][1],O[s][2],O[s][3]);h.fillStyle="#222";for(var s=0;s<Q.length;s++)h.fillRect(Q[s][0],Q[s][1],Q[s][2],Q[s][3]);h.fillStyle="#999";for(var s=0;s<E.length;s++)E[s][7]&&(E[s][6]-=E[s][4]),E[s][6]<-E[s][5]&&(E[s][6]=1,E[s][7]=!1),0<=E[s][6]&&(h.fillStyle="rgba(205,198,115,"+E[s][6]+")",h.fillRect(E[s][0],E[s][1],E[s][2],E[s][3]));for(var s=0;s<L.length;s++)h.fillStyle="#cdb5cd",h.fillRect(L[s][0],L[s][1],L[s][2],L[s][3]),h.fillStyle="#ad85ad",0<=L[s][4]?(L[s][5]&&(L[s][5]=!1,L[s][6]=L[s][0],L[s][7]=L[s][0]+L[s][2]/2,L[s][8]=L[s][2]/4),L[s][6]+=L[s][4],L[s][7]+=L[s][4],L[s][6]>=L[s][0]+L[s][2]/2&&(L[s][6]=L[s][0],L[s][7]=L[s][0]+L[s][2]/2),L[s][7]>L[s][0]+3*L[s][2]/4?(L[s][8]=L[s][0]+L[s][2]-L[s][7],h.fillRect(L[s][0],L[s][1],L[s][2]/4-L[s][8],5)):L[s][8]=L[s][2]/4,h.fillRect(L[s][6],L[s][1],L[s][2]/4,5),h.fillRect(L[s][7],L[s][1],L[s][8],5)):(L[s][5]&&(L[s][5]=!1,L[s][6]=L[s][0]+L[s][2]/4,L[s][7]=L[s][0]+3*L[s][2]/4,L[s][8]=L[s][2]/4),L[s][6]+=L[s][4],L[s][7]+=L[s][4],L[s][7]<=L[s][0]+L[s][2]/4&&(L[s][6]=L[s][0]+L[s][2]/4,L[s][7]=L[s][0]+3*L[s][2]/4),L[s][6]<L[s][0]?(L[s][6]=L[s][0],L[s][8]+=L[s][4],h.fillRect(L[s][0]+3*L[s][2]/4+L[s][8],L[s][1],L[s][2]/4-L[s][8],5)):L[s][8]=L[s][2]/4,h.fillRect(L[s][6],L[s][1],L[s][8],5),h.fillRect(L[s][7],L[s][1],L[s][2]/4,5));h.fillStyle="#8ad";for(var s=0;s<J.length;s++)J[s][5]&&(J[s][5]=!1,J[s][6]=J[s][3],J[s][7]=J[s][1],J[s][8]=!0),h.fillRect(J[s][0],J[s][1],J[s][2],10),h.fillRect(J[s][0],J[s][1]+J[s][3]-10,J[s][2],10),h.strokeStyle="#999",h.lineWidth=2,h.lineCap="round",h.beginPath(),h.moveTo(J[s][0]+5,J[s][1]+5),h.lineTo(J[s][0]+J[s][2]-5,J[s][1]+J[s][3]-5),h.stroke(),h.closePath(),h.beginPath(),h.moveTo(J[s][0]+5,J[s][1]+J[s][3]-5),h.lineTo(J[s][0]+J[s][2]-5,J[s][1]+5),h.stroke(),h.closePath();for(var s=0;s<K.length;s++)h.lineWidth=2,h.strokeStyle="#F08080",h.strokeRect(K[s][0],K[s][1],K[s][2],K[s][3]),h.strokeRect(K[s][4],K[s][5],K[s][6],K[s][7]),h.font="14px 微软雅黑",h.fillStyle="#F08080",h.fillText(s+1,K[s][0]+10,K[s][1]+16),h.fillText(s+1,K[s][4]+10,K[s][5]+16);h.fillStyle="#d08";for(var s=0;s<D.length;s++)h.fillRect(D[s][0],D[s][1],D[s][2],D[s][3]);for(var s=0;s<G.length;s++)G[s][6]-=G[s][4],G[s][6]<-G[s][5]&&(G[s][6]=1),0<G[s][6]&&h.fillRect(G[s][0],G[s][1],G[s][2],G[s][3]);for(var s=0;s<Y.length;s++)Y[s][6]+=Y[s][7]*Y[s][5],Y[s][8]=Y[s][0]+Y[s][2]*Math.cos(Y[s][6])-Y[s][3]/2,Y[s][9]=Y[s][1]+Y[s][2]*Math.sin(Y[s][6])-Y[s][4]/2,h.fillRect(Y[s][8],Y[s][9],Y[s][3],Y[s][4]);for(var s=0;s<j.length;s++)j[s][10]=Math.abs((Math.abs(j[s][6]-us)-Math.abs(j[s][7]-us))*j[s][8])/Math.abs(j[s][7]-us),j[s][10]<=j[s][9]&&(j[s][10]=j[s][9]),Math.abs(j[s][6]-us)>=Math.abs(j[s][7]-us)&&(j[s][5]*=-1),j[s][6]+=j[s][10]*j[s][5],j[s][11]=j[s][0]+j[s][2]*Math.cos(j[s][6])-j[s][3]/2,j[s][12]=j[s][1]+j[s][2]*Math.sin(j[s][6])-j[s][4]/2,h.fillRect(j[s][11],j[s][12],j[s][3],j[s][4]),h.beginPath(),h.strokeStyle="#999",h.lineWidth=(j[s][3]+j[s][4])/20,h.lineCap="round",h.moveTo(j[s][0],j[s][1]),h.lineTo(j[s][0]+j[s][2]*Math.cos(j[s][6]),j[s][1]+j[s][2]*Math.sin(j[s][6])),h.stroke(),h.closePath();for(var s=0;s<X.length;s++)X[s][0]+=X[s][4],X[s][1]+=X[s][5],X[s][0]<0?(X[s][0]*=-1,X[s][4]*=-1):X[s][0]+X[s][2]>p&&(X[s][0]=2*(p-X[s][2])-X[s][0],X[s][4]*=-1),X[s][1]<0?(X[s][1]*=-1,X[s][5]*=-1):X[s][1]+X[s][3]>u&&(X[s][1]=2*(u-X[s][3])-X[s][1],X[s][5]*=-1),h.fillRect(X[s][0],X[s][1],X[s][2],X[s][3]);h.fillStyle="#999";for(var s=0;s<B.length;s++)"x"==B[s][4]?(B[s][9]=B[s][7]*B[s][8]*Math.min.apply(null,[B[s][6]-B[s][0],B[s][0]-B[s][5]])/(B[s][6]-B[s][5]),Math.abs(B[s][9])<=B[s][10]&&(B[s][9]=B[s][10]*B[s][8]),(B[s][0]+B[s][9]>=B[s][6]||B[s][0]+B[s][9]<=B[s][5])&&(B[s][8]*=-1),B[s][11]=B[s][0],B[s][0]+=B[s][9]):(B[s][9]=B[s][7]*B[s][8]*Math.min.apply(null,[B[s][6]-B[s][1],B[s][1]-B[s][5]])/(B[s][6]-B[s][5]),Math.abs(B[s][9])<=B[s][10]&&(B[s][9]=B[s][10]*B[s][8]),(B[s][1]+B[s][9]>=B[s][6]||B[s][1]+B[s][9]<=B[s][5])&&(B[s][8]*=-1),B[s][11]=B[s][1],B[s][1]+=B[s][9]),h.fillRect(B[s][0],B[s][1],B[s][2],B[s][3]);h.fillStyle="#d08";for(var s=0;s<N.length;s++)N[s][9]&&(N[s][9]=!1,N[s][10]=N[s][1],N[s][11]=-1*N[s][5]),N[s][0]+=N[s][4]*N[s][6],N[s][11]+=V,N[s][1]+=N[s][11],N[s][1]>=N[s][10]&&(N[s][1]=N[s][10],N[s][11]=-1*N[s][5]),N[s][0]<=N[s][7]?(N[s][6]*=-1,N[s][0]=2*N[s][7]-N[s][0]):N[s][0]+N[s][2]>=N[s][8]&&(N[s][6]*=-1,N[s][0]=2*(N[s][8]-N[s][2])-N[s][0]),h.fillRect(N[s][0],N[s][1],N[s][2],N[s][3]);for(var s=0;s<H.length;s++)H[s][8]&&(H[s][8]=!1,H[s][9]=H[s][1],H[s][10]=H[s][7],H[s][11]=H[s][6]),H[s][6]-=.01,H[s][6]<=0&&(H[s][7]+=H[s][5],H[s][1]+=H[s][7]),H[s][1]+H[s][3]>H[s][4]&&(H[s][1]=H[s][9],H[s][7]=H[s][10],H[s][6]=H[s][11]),h.fillRect(H[s][0],H[s][1],H[s][2],H[s][3]);for(var s=0;s<z.length;s++)"x"==z[s][4]?(z[s][9]=z[s][7]*z[s][8]*Math.min.apply(null,[z[s][6]-z[s][0],z[s][0]-z[s][5]])/(z[s][6]-z[s][5]),Math.abs(z[s][9])<=z[s][10]&&(z[s][9]=z[s][10]*z[s][8]),(z[s][0]+z[s][9]>=z[s][6]||z[s][0]+z[s][9]<=z[s][5])&&(z[s][8]*=-1),z[s][11]=z[s][0],z[s][0]+=z[s][9]):(z[s][9]=z[s][7]*z[s][8]*Math.min.apply(null,[z[s][6]-z[s][1],z[s][1]-z[s][5]])/(z[s][6]-z[s][5]),Math.abs(z[s][9])<=z[s][10]&&(z[s][9]=z[s][10]*z[s][8]),(z[s][1]+z[s][9]>=z[s][6]||z[s][1]+z[s][9]<=z[s][5])&&(z[s][8]*=-1),z[s][11]=z[s][1],z[s][1]+=z[s][9]),h.fillRect(z[s][0],z[s][1],z[s][2],z[s][3]);h.lineWidth=2,h.strokeStyle="#32CD32",h.strokeRect(W[0],W[1],W[2],W[3])}(),w&&(F-=.01,h.fillStyle="rgba(34,136,221,"+F+")",h.font="30px 微软雅黑",h.textAlign="center",h.fillText("第 "+v+" 关",300,310),F<=0&&(w=!(F=1))),M&&function(){es=r,hs=n,Z&&!_?(r-=Z,ps=-1):!Z&&_&&(r+=_,ps=1);r<0?r=0:p<r+x&&(r=p-x);ys=is=!0;for(var s=0;s<q.length;s++)es+x<=q[s][0]&&r+x>=q[s][0]&&n+x>q[s][1]&&n<=q[s][1]+q[s][3]?r=q[s][0]-x:es>=q[s][0]+q[s][2]&&r<=q[s][0]+q[s][2]&&n+x>q[s][1]&&n<=q[s][1]+q[s][3]&&(r=q[s][0]+q[s][2]),r+x>q[s][0]&&r<q[s][2]+q[s][0]&&parseInt(n+x)<=q[s][1]&&parseInt(n+x+U)>=q[s][1]?(U=0,n=q[s][1]-x):r+x>q[s][0]&&r<q[s][2]+q[s][0]&&parseInt(n)>q[s][1]+q[s][3]&&parseInt(n+U)<=q[s][1]+q[s][3]&&(U=0,n=q[s][1]+q[s][3]),n==q[s][1]-x&&U!=ss&&(r+x<=q[s][0]||r>=q[s][2]+q[s][0]?is=!0:(U=0,is=!1,fs&&(U=ss))),is||(ys=!1);for(var s=0;s<Q.length;s++)es+x<=Q[s][0]&&r+x>=Q[s][0]&&n+x>Q[s][1]&&n<=Q[s][1]+Q[s][3]?r=Q[s][0]-x:es>=Q[s][0]+Q[s][2]&&r<=Q[s][0]+Q[s][2]&&n+x>Q[s][1]&&n<=Q[s][1]+Q[s][3]&&(r=Q[s][0]+Q[s][2]),r+x>Q[s][0]&&r<Q[s][2]+Q[s][0]&&parseInt(n+x)<=Q[s][1]&&parseInt(n+x+U)>=Q[s][1]?(U=0,n=Q[s][1]-x):r+x>Q[s][0]&&r<Q[s][2]+Q[s][0]&&parseInt(n)>Q[s][1]+Q[s][3]&&parseInt(n+U)<=Q[s][1]+Q[s][3]&&(U=0,n=Q[s][1]+Q[s][3]),n==Q[s][1]-x&&U!=ss&&(r+x<=Q[s][0]||r>=Q[s][2]+Q[s][0]?is=!0:(U=0,is=!1,fs&&(U=ss),r=es)),is||(ys=!1);for(var s=0;s<O.length;s++)es+x<=O[s][0]&&r+x>=O[s][0]&&n+x>O[s][1]&&n<=O[s][1]+O[s][3]?r=O[s][0]-x:es>=O[s][0]+O[s][2]&&r<=O[s][0]+O[s][2]&&n+x>O[s][1]&&n<=O[s][1]+O[s][3]&&(r=O[s][0]+O[s][2]),r+x>O[s][0]&&r<O[s][2]+O[s][0]&&parseInt(n+x)<=O[s][1]&&parseInt(n+x+U)>=O[s][1]?(U=0,n=O[s][1]-x):r+x>O[s][0]&&r<O[s][2]+O[s][0]&&parseInt(n)>O[s][1]+O[s][3]&&parseInt(n+U)<=O[s][1]+O[s][3]&&(U=0,n=O[s][1]+O[s][3]),n==O[s][1]-x&&U!=ss&&(r+x<=O[s][0]||r>=O[s][2]+O[s][0]?is=!0:(U=0,is=!1,fs&&(U=ss),(r=es+O[s][4]*ps)<0?r=0:p<r+x&&(r=p-x))),is||(ys=!1);for(var s=0;s<L.length;s++)es+x<=L[s][0]&&r+x>=L[s][0]&&n+x>L[s][1]&&n<=L[s][1]+L[s][3]?r=L[s][0]-x:es>=L[s][0]+L[s][2]&&r<=L[s][0]+L[s][2]&&n+x>L[s][1]&&n<=L[s][1]+L[s][3]&&(r=L[s][0]+L[s][2]),r+x>L[s][0]&&r<L[s][2]+L[s][0]&&parseInt(n+x)<=L[s][1]&&parseInt(n+x+U)>=L[s][1]?(U=0,n=L[s][1]-x):r+x>L[s][0]&&r<L[s][2]+L[s][0]&&parseInt(n)>L[s][1]+L[s][3]&&parseInt(n+U)<=L[s][1]+L[s][3]&&(U=0,n=L[s][1]+L[s][3]),n==L[s][1]-x&&U!=ss&&(r+x<=L[s][0]||r>=L[s][2]+L[s][0]?is=!0:(r+=L[s][4],U=0,is=!1,fs&&(U=ss))),is||(ys=!1);for(var s=0;s<J.length;s++)es+x<=J[s][0]&&r+x>=J[s][0]&&n+x>J[s][1]&&n<=J[s][1]+J[s][3]?r=J[s][0]-x:es>=J[s][0]+J[s][2]&&r<=J[s][0]+J[s][2]&&n+x>J[s][1]&&n<=J[s][1]+J[s][3]&&(r=J[s][0]+J[s][2]),r+x>J[s][0]&&r<J[s][2]+J[s][0]&&parseInt(n+x)<=J[s][1]&&parseInt(n+x+U)>=J[s][1]?(U=0,n=J[s][1]-x):r+x>J[s][0]&&r<J[s][2]+J[s][0]&&parseInt(n)>J[s][1]+J[s][3]&&parseInt(n+U)<=J[s][1]+J[s][3]&&(U=0,n=J[s][1]+J[s][3]),n==J[s][1]-x&&U!=ss?r+x<=J[s][0]||r>=J[s][2]+J[s][0]?is=!0:(21<=J[s][3]&&J[s][8]?(J[s][1]+=1,J[s][3]-=1,n=J[s][1]-x):J[s][3]-10>=J[s][6]?(J[s][3]=J[s][6],J[s][1]=J[s][7],n=J[s][1]-x,U=-J[s][4],J[s][8]=!0):(J[s][1]-=10,J[s][3]+=10,n=J[s][1]-x,U=0,J[s][8]=!1),is=!1,fs&&(U=ss)):J[s][3]+10>=J[s][6]?(J[s][3]=J[s][6],J[s][1]=J[s][7]):(J[s][1]-=10,J[s][3]+=10),is||(ys=!1);for(var s=0;s<E.length;s++)0<=E[s][6]&&(es+x<=E[s][0]&&r+x>=E[s][0]&&n+x>E[s][1]&&n<=E[s][1]+E[s][3]?r=E[s][0]-x:es>=E[s][0]+E[s][2]&&r<=E[s][0]+E[s][2]&&n+x>E[s][1]&&n<=E[s][1]+E[s][3]&&(r=E[s][0]+E[s][2]),r+x>E[s][0]&&r<E[s][2]+E[s][0]&&parseInt(n+x)<=E[s][1]&&parseInt(n+x+U)>=E[s][1]?(U=0,n=E[s][1]-x,E[s][7]=!0):r+x>E[s][0]&&r<E[s][2]+E[s][0]&&parseInt(n)>E[s][1]+E[s][3]&&parseInt(n+U)<=E[s][1]+E[s][3]&&(U=0,n=E[s][1]+E[s][3]),n==E[s][1]-x&&U!=ss&&(r+x<=E[s][0]||r>=E[s][2]+E[s][0]?is=!0:(U=0,is=!1,fs&&(U=ss))),is||(ys=!1));for(var s=0;s<B.length;s++)"x"==B[s][4]?(es+x<=B[s][11]&&r+x>=B[s][0]&&n+x>B[s][1]&&n<=B[s][1]+B[s][3]?r=B[s][0]-x:es>=B[s][11]+B[s][2]&&r<=B[s][0]+B[s][2]&&n+x>B[s][1]&&n<=B[s][1]+B[s][3]&&(r=B[s][0]+B[s][2]),r+x>B[s][0]&&r<B[s][2]+B[s][0]&&parseInt(n+x)<=B[s][1]&&parseInt(n+x+U)>=B[s][1]?(U=0,n=B[s][1]-x):r+x>B[s][0]&&r<B[s][2]+B[s][0]&&parseInt(n)>B[s][1]+B[s][3]&&parseInt(n+U)<=B[s][1]+B[s][3]&&(U=0,n=B[s][1]+B[s][3]),n==B[s][1]-x&&U!=ss&&(r+x<=B[s][0]||r>=B[s][2]+B[s][0]?is=!0:(r-=B[s][11]-B[s][0],U=0,is=!1,fs&&(U=ss)))):(es+x<=B[s][0]&&r+x>=B[s][0]&&n+x>B[s][1]&&n<=B[s][1]+B[s][3]?r=B[s][0]-x:es>=B[s][0]+B[s][2]&&r<=B[s][0]+B[s][2]&&n+x>B[s][1]&&n<=B[s][1]+B[s][3]&&(r=B[s][0]+B[s][2]),r+x>B[s][0]&&r<B[s][2]+B[s][0]&&parseInt(n+x)<=parseInt(B[s][11])&&parseInt(n+x+U)>=B[s][1]?(U=0,n=B[s][1]-x,B[s][12]=!0):r+x>B[s][0]&&r<B[s][2]+B[s][0]&&parseInt(n)>=B[s][1]+B[s][3]&&parseInt(n+U)<=B[s][1]+B[s][3]+B[s][9]&&(U=0,n=B[s][1]+B[s][3]),B[s][12]&&(n=B[s][1]-x,U==ss&&(B[s][12]=!1)),n==B[s][1]-x&&U!=ss&&(r+x<=B[s][0]||r>=B[s][2]+B[s][0]?(B[s][12]=!1,is=!0):(U=0,is=!1,fs&&(U=ss)))),is||(ys=!1);for(var s=0;s<K.length;s++)r>K[s][0]-S&&r<K[s][0]+S&&n>K[s][1]-S&&n<K[s][1]+S?K[s][8]&&(r=K[s][4],n=K[s][5],U=0,K[s][8]=!1):r>K[s][4]-S&&r<K[s][4]+S&&n>K[s][5]-S&&n<K[s][5]+S?K[s][8]&&(r=K[s][0],n=K[s][1],U=0,K[s][8]=!1):K[s][8]=!0;is=ys;for(var s=0;s<D.length;s++)if(r+x>D[s][0]&&r<D[s][0]+D[s][2]&&n+x>D[s][1]&&n<D[s][1]+D[s][3]){qs();break}for(var s=0;s<N.length;s++)if(r+x>N[s][0]&&r<N[s][0]+N[s][2]&&n+x>N[s][1]&&n<N[s][1]+N[s][3]){qs();break}for(var s=0;s<z.length;s++)if(r+x>z[s][0]&&r<z[s][0]+z[s][2]&&n+x>z[s][1]&&n<z[s][1]+z[s][3]){qs();break}for(var s=0;s<G.length;s++)if(r+x>G[s][0]&&r<G[s][0]+G[s][2]&&n+x>G[s][1]&&n<G[s][1]+G[s][3]&&0<G[s][6]){qs();break}for(var s=0;s<X.length;s++)if(r+x>X[s][0]&&r<X[s][0]+X[s][2]&&n+x>X[s][1]&&n<X[s][1]+X[s][3]){qs();break}for(var s=0;s<Y.length;s++)if(r+x>Y[s][8]&&r<Y[s][8]+Y[s][3]&&n+x>Y[s][9]&&n<Y[s][9]+Y[s][4]){qs();break}for(var s=0;s<H.length;s++)if(r+x>H[s][0]&&r<H[s][0]+H[s][2]&&n+x>H[s][1]&&n<H[s][1]+H[s][3]){qs();break}for(var s=0;s<j.length;s++)if(r+x>j[s][11]&&r<j[s][11]+j[s][3]&&n+x>j[s][12]&&n<j[s][12]+j[s][4]){qs();break}n<0?U=n=0:u<n&&qs();is&&(U+=V);0==U&&as&&!is&&(fs=!0,U=ss);(ts=es)<r-2&&(ts=r-2),r+2<ts&&(ts=r+2),(ls=hs)<(n+=U)-2&&(ls=n-2),n+2<ls&&(ls=n+2),h.fillStyle="#f82",h.fillRect(r,n,x,x),h.beginPath(),h.fillStyle="#fff",h.arc(r+5,n+5,4,0,2*Math.PI),h.fill(),h.beginPath(),h.arc(r+15,n+5,4,0,2*Math.PI),h.fill(),is?(h.fillStyle="#fff",h.beginPath(),h.arc(r+10,n+15,4,0,2*Math.PI),h.fill()):(h.fillStyle="#fff",h.beginPath(),h.fillRect(r+2,n+12,16,6));h.fillStyle="#000",h.beginPath(),h.arc(ts+5,ls+5,2,0,2*Math.PI),h.fill(),h.beginPath(),h.arc(ts+15,ls+5,2,0,2*Math.PI),h.fill(),h.fillStyle=bs,h.fillRect(560,10,30,5),h.fillRect(560,20,30,5),h.fillRect(560,30,30,5),h.fillStyle=ds,h.beginPath(),h.moveTo(530,22),h.arc(530,22,14,us,2*us,!0),h.closePath(),h.fill(),h.beginPath(),h.fillStyle="#fff",h.arc(530,22,10,0,4*us),h.closePath(),h.fill(),h.beginPath(),h.fillStyle=ds,h.moveTo(522,32),h.lineTo(530,24),h.lineTo(530,40),h.closePath(),h.fill(),h.fillStyle=Rs,h.fillRect(478,9,8,28),h.fillRect(494,9,8,28),r>W[0]-S&&r<W[0]+S&&n>W[1]-S&&n<W[1]+S&&(d++,M=w=!(I=!(k=0)))}(),ns&&(P=M=w=I=!1,h.fillStyle="#999",h.fillRect(0,0,p,u),h.font=A+" 微软雅黑",h.fillStyle="#fff",h.textAlign="center",h.fillText("恭喜通关",300,310)),I&&function(){h.fillStyle="#fff",h.fillRect(0,0,p,u),1!=k&&(cs&&(b=Math.max.apply(null,g)-os,os*=-1,cs=!1),b<=0&&(os*=-1)),b+=os;h.fillStyle="#999",h.fillRect(0-b,0-b,c,y),h.fillRect(c+b,0-b,c,y),h.fillRect(0-b,y+b,c,y),h.fillRect(c+b,y+b,c,y),c<=b&&y<=b&&(cs=!0,b=0,Fs())}(),C&&(M=P=!1,h.fillStyle="rgba(0,0,0,.5)",h.fillRect(0,0,p,u),h.beginPath(),h.fillStyle="#000",h.arc(300,300,100,0,4*us),h.closePath(),h.fill(),h.beginPath(),h.fillStyle="#fff",h.arc(300,300,96,0,4*us),h.closePath(),h.fill(),h.beginPath(),h.fillStyle="#000",h.moveTo(370,300),h.lineTo(250,230),h.lineTo(250,370),h.closePath(),h.fill()),rs&&window.requestAnimationFrame(As)}function Fs(){M=P=w=!(I=!1),q=[],W=[],D=[],z=[],B=[],G=[],E=[],X=[],Y=[],j=[],H=[],J=[],K=[],L=[],N=[],O=[],Q=[],F=1,(U=0)==(v=d)||(1==d?(q.push([0,500,200,100]),q.push([200,400,200,200]),q.push([400,300,200,300]),W=[560,280,x,x],r=20,n=400):2==d?(q.push([0,500,250,100]),q.push([350,500,250,100]),W=[500,480,x,x],r=100,n=400):3==d?(q.push([0,500,p,100]),D.push([290,100,20,400]),J.push([240,460,40,40,12.5,!0]),W=[560,480,x,x],r=20,n=400):4==d?(O.push([0,500,150,100,2]),O.push([290,500,20,100,2]),O.push([450,500,600,100,2]),W=[560,480,x,x],r=20,n=400):5==d?(q.push([0,500,200,100]),q.push([500,300,100,10]),E.push([200,400,40,10,.05,5,1,!1]),E.push([300,400,40,10,.05,5,1,!1]),E.push([400,400,40,10,.05,5,1,!1]),W=[560,280,x,x],r=20,n=400):6==d?(q.push([0,500,100,100]),Q.push([200,500,500,100]),D.push([300,460,40,40]),D.push([440,460,40,40]),W=[560,480,x,x],r=20,n=400):7==d?(q.push([0,500,100,100]),q.push([500,400,100,10]),L.push([200,500,100,10,1.5,!0]),L.push([360,500,100,10,-1.5,!0]),W=[560,380,x,x],r=20,n=400):8==d?(q.push([0,500,p,100]),D.push([200,420,40,80]),D.push([400,420,40,80]),W=[500,480,x,x],r=100,n=400):9==d?(q.push([0,500,p,100]),N.push([200,460,40,40,2,5,1,100,500,!0]),W=[560,480,x,x],r=20,n=400):10==d?(q.push([0,500,100,100]),q.push([500,500,100,100]),O.push([200,500,150,10,4]),D.push([350,440,30,70]),L.push([380,500,100,10,-1.5,!0]),W=[560,480,x,x],r=20,n=400):11==d?(q.push([100,0,300,u]),q.push([0,500,100,10]),q.push([400,500,200,10]),q.push([400,400,200,10]),K.push([80,480,x,x,400,480,x,x,!0]),K.push([580,480,x,x,400,380,x,x,!0]),j.push([500,405,80,20,20,-1,us+.8,us+1,.06,.002]),W=[560,380,x,x],r=20,n=400):12==d?(q.push([0,500,100,100]),q.push([500,500,100,100]),J.push([60,460,40,40,12,!0]),O.push([100,100,400,10,5]),D.push([100,0,400,10]),N.push([240,60,40,40,2,4,1,240,358,!0]),W=[560,480,x,x],r=20,n=400):13==d?(q.push([0,500,100,100]),q.push([500,500,100,100]),B.push([201,400,50,10,"x",100,250,4,-1,0,1]),L.push([380,400,100,10,-1.8,!0]),W=[560,480,x,x],r=20,n=400):14==d?(q.push([0,550,50,50]),q.push([50,500,150,100]),q.push([250,500,400,200]),q.push([200,550,50,50]),z.push([0,260,400,200,"y",200,300,3,-1,0,1]),z.push([450,260,150,200,"y",200,300,3,-1,0,1]),z.push([400,260,50,150,"y",200,300,3,-1,0,1]),W=[560,480,x,x],r=20,n=520):15==d?(q.push([0,500,100,100]),O.push([100,500,100,100,7]),q.push([200,500,100,100]),H.push([145,-10,10,10,620,0,0,15,!0]),L.push([300,500,200,10,4,!0]),q.push([500,500,100,10]),D.push([480,460,40,40]),W=[560,480,x,x],r=20,n=400):16==d?(q.push([0,500,170,100]),q.push([300,500,200,100]),q.push([500,100,100,10]),J.push([460,460,40,40,12,!0]),z.push([450,250,20,20,"x",400,500,3,1,0,2]),W=[560,80,x,x],r=20,n=400):17==d?(q.push([0,500,150,10]),q.push([280,500,100,10]),q.push([510,500,90,10]),q.push([0,200,100,10]),L.push([230,200,100,10,1,!0]),q.push([460,200,140,10]),j.push([270,205,240,80,80,-1,us+.8,us+1,.05,.001]),K.push([580,480,x,x,0,180,x,x,!0]),W=[560,180,x,x],r=40,n=400):18==d?(q.push([0,500,100,100]),q.push([500,500,100,100]),B.push([201,400,50,10,"x",100,260,3,-1,0,1.5]),B.push([301,400,50,10,"x",300,450,4,1,0,3]),W=[560,480,x,x],r=20,n=400):19==d?(q.push([0,500,100,100]),q.push([500,100,100,10]),B.push([201,400,50,10,"x",100,260,3,-1,0,1.5]),B.push([400,400,50,10,"y",200,450,4,1,0,3]),W=[560,80,x,x],r=20,n=400):20==d?(q.push([0,500,100,100]),q.push([200,500,50,100]),q.push([350,500,50,100]),q.push([0,200,400,20]),D.push([120,180,60,20]),D.push([360,140,20,60]),B.push([500,400,50,10,"y",200,550,4,1,0,3]),z.push([140,450,20,20,"y",350,500,3,1,0,2]),z.push([290,450,20,20,"y",350,500,4,1,0,1]),W=[80,180,x,x],r=20,n=400):21==d?(q.push([0,500,p,100]),q.push([0,300,500,10]),q.push([550,400,50,10]),z.push([200,480,20,20,"x",100,300,3,1,0,3]),z.push([200,400,40,60,"x",100,300,4,1,0,4]),z.push([400,480,20,20,"x",340,500,8,1,0,3]),z.push([515,400,20,20,"y",240,440,5,1,0,3]),z.push([200,260,40,40,"x",100,460,12,1,0,1]),W=[20,280,x,x],r=20,n=400):22==d?(q.push([0,500,20,20]),q.push([100,400,20,20]),q.push([200,284,20,20]),q.push([300,166,20,20]),q.push([400,400,200,20]),D.push([79,405,20,20]),D.push([179,289,20,20]),D.push([233,275,20,20]),D.push([455,380,20,20]),D.push([505,380,20,20]),W=[480,380,x,x],r=0,n=400):23==d?(q.push([0,300,100,10]),q.push([200,300,50,10]),q.push([350,300,50,10]),q.push([500,300,100,10]),D.push([60,280,30,20]),D.push([210,280,30,20]),D.push([360,280,30,20]),D.push([525,280,20,20]),D.push([575,280,20,20]),W=[550,280,x,x],r=20,n=200):24==d?(q.push([450,580,40,20]),q.push([100,350,50,10]),q.push([250,250,50,10]),q.push([400,400,50,10]),E.push([320,430,60,10,.05,5,1,!1]),B.push([20,401,60,10,"y",200,450,5,-1,0,3]),B.push([170,401,60,10,"y",100,450,6,-1,0,6]),B.push([500,501,50,10,"y",450,550,2,-1,0,.5]),D.push([100,0,50,300]),D.push([100,360,50,240]),D.push([250,0,50,200]),D.push([250,260,50,340]),D.push([400,0,50,350]),D.push([400,410,50,200]),D.push([550,410,50,200]),D.push([450,410,50,50]),W=[460,560,x,x],r=40,n=160):25==d?(q.push([0,580,p,20]),q.push([400,50,200,50]),D.push([0,420,400,50]),D.push([450,420,150,50]),D.push([0,250,50,50]),D.push([100,250,500,50]),D.push([0,50,350,50]),E.push([120,240,50,10,.05,5,1,!1]),E.push([180,160,50,10,.05,5,1,!1]),E.push([270,220,50,10,.05,5,1,!1]),B.push([400,500,50,10,"y",420,520,3,1,0,.5]),B.push([300,380,50,10,"x",120,340,3,1,0,2]),B.push([50,300,50,10,"y",250,380,2,1,0,.5]),B.push([350,120,50,10,"y",100,200,2,1,0,.5]),Y.push([475,75,50,20,20,-1,us,.03]),W=[560,30,x,x],r=100,n=540):26==d?(q.push([0,500,100,100]),q.push([0,100,500,10]),q.push([550,200,50,10]),E.push([150,400,50,10,.05,5,1,!1]),E.push([270,330,50,10,.05,5,1,!1]),E.push([400,260,50,10,.05,5,1,!1]),Y.push([175,405,40,20,20,1,us,.03]),Y.push([425,265,40,20,20,-1,us,.05]),j.push([200,0,80,40,40,-1,us+.8,us+1,.05,.001]),H.push([270,-50,50,50,700,.1,.5,0,!0]),W=[20,80,x,x],r=20,n=400):27==d?(q.push([0,500,100,100]),q.push([150,480,50,10]),q.push([250,460,50,10]),q.push([350,440,50,10]),q.push([450,420,50,10]),q.push([550,400,50,10]),q.push([550,300,50,10]),q.push([550,200,50,10]),q.push([450,180,50,10]),q.push([350,160,50,10]),q.push([250,140,50,10]),q.push([150,120,50,10]),q.push([0,100,100,10]),H.push([115,-20,20,20,620,.2,.5,1,!0]),H.push([215,-20,20,20,620,.5,1,1,!0]),H.push([315,-20,20,20,620,1,0,0,!0]),H.push([415,-20,20,20,620,.1,1,3,!0]),H.push([500,-20,20,20,620,.2,.2,3,!0]),H.push([530,-20,20,20,620,.1,0,5,!0]),W=[20,80,x,x],r=20,n=400):28==d?(q.push([250,580,100,20]),q.push([250,50,100,10]),B.push([101,500,50,10,"x",100,450,2,1,0,2]),B.push([300,400,40,10,"x",100,460,2.5,1,0,2.5]),B.push([400,300,30,10,"x",100,470,3,-1,0,3]),B.push([400,200,20,10,"x",100,480,4,1,0,4]),E.push([200,100,20,10,.05,5,1,!1]),E.push([380,100,20,10,.05,5,1,!1]),D.push([200,480,20,20]),D.push([380,480,20,20]),D.push([280,380,20,20]),D.push([180,280,20,20]),D.push([420,280,20,20]),D.push([100,140,60,60]),D.push([440,140,60,60]),z.push([225,60,20,20,"y",0,100,3,1,0,.1]),z.push([355,80,20,20,"y",0,100,2.5,-1,0,.5]),W=[290,30,x,x],r=290,n=540):29==d?(q.push([400,500,200,100]),q.push([380,400,160,10]),q.push([360,300,180,10]),q.push([340,200,200,10]),q.push([100,100,440,10]),q.push([280,200,10,400]),q.push([530,100,10,400]),q.push([100,100,10,410]),q.push([150,200,130,10]),q.push([150,300,130,10]),q.push([150,400,130,10]),q.push([150,500,130,10]),q.push([110,450,130,10]),q.push([110,350,130,10]),q.push([110,250,130,10]),G.push([540,400,60,60,.01,1,1]),E.push([0,150,50,10,.05,5,1,!1]),E.push([0,250,50,10,.05,5,1,!1]),E.push([0,350,50,10,.05,5,1,!1]),E.push([0,450,50,10,.05,5,1,!1]),E.push([50,500,50,10,.05,5,1,!1]),E.push([50,400,50,10,.05,5,1,!1]),E.push([50,300,50,10,.05,5,1,!1]),E.push([50,200,50,10,.05,5,1,!1]),B.push([101,550,50,10,"x",0,200,3,1,0,2]),H.push([170,-40,40,40,640,.1,.5,0,!0]),j.push([200,100,88,20,20,-1,us+.8,us+1,.05,.003]),j.push([400,0,78,40,40,1,us-.8,us+1,.1,.002]),Y.push([225,455,40,10,10,1,us,.05]),W=[560,480,x,x],n=r=440):30==d?(q.push([0,590,p,10]),q.push([0,490,500,10]),q.push([100,390,500,10]),q.push([0,290,500,10]),q.push([100,190,500,10]),q.push([0,90,500,10]),Y.push([495,495,50,10,10,1,us,.03]),Y.push([105,395,50,10,10,-1,us,.05]),Y.push([495,295,50,10,10,1,us,.07]),Y.push([105,195,50,10,10,-1,us,.09]),Y.push([495,95,50,10,10,1,us,.11]),z.push([150,450,40,90,"y",400,500,4,1,0,.2]),z.push([350,306,40,90,"y",300,400,5,1,0,.2]),z.push([300,286,40,90,"y",200,300,2,1,0,1.5]),z.push([200,86,40,90,"y",0,200,8,1,0,1.5]),z.push([400,1,40,90,"y",0,100,2,1,0,1.5]),j.push([300,0,68,40,40,-1,us+.8,us+1,.08,.002]),X.push([40,40,40,40,3,3]),W=[20,70,x,x],r=20,n=560):ns=!0),a=r,o=n}function qs(){w=!0,r=a,n=o,U=0}e.width=p,e.height=u,h.fillStyle="#000",h.fillRect(0,0,p,u),t.mousemove(function(s){f=s.pageX-t.offset().left-parseInt(t.css("border-left-width")),i=s.pageY-t.offset().top-parseInt(t.css("border-top-width")),function(){m&&(250<=f&&f<=350&&288<=i&&i<=318?(A="22px",t.css("cursor","pointer")):270<=f&&f<=330&&362<=i&&i<=386?(t.css("cursor","pointer"),gs="#000"):(A="20px",gs="#fff",t.css("cursor",l)));if(T&&Cs.length)if(270<=f&&f<=330&&482<=i&&i<=506)ks="#000",t.css("cursor","pointer");else{ks="#fff";for(var s=0;s<R;s++){if(f>=Cs[s].x&&f<=Cs[s].x+Ss&&i>=Cs[s].y&&i<=Cs[s].y+ms){Cs[s].c="#000",t.css("cursor","pointer");break}Cs[s].c="#fff",t.css("cursor",l)}}P&&(560<=f&&f<=590&&10<=i&&i<=35?(bs="#bbb",t.css("cursor","pointer")):520<=f&&f<=540&&12<=i&&i<=32?(ds="#bbb",t.css("cursor","pointer")):478<=f&&f<=502&&9<=i&&i<=37?(Rs="#bbb",t.css("cursor","pointer")):(Rs=ds=bs="#999",t.css("cursor",l)));C&&(Math.sqrt(Math.pow(f-300,2)+Math.pow(i-300,2))<=100?t.css("cursor","pointer"):t.css("cursor",l))}()}),t.click(function(){if(m&&(250<=f&&f<=350&&288<=i&&i<=318?(m=!1,A="20px",t.css("cursor",l),I=!0):270<=f&&f<=330&&362<=i&&i<=386&&(m=!1,A="20px",gs="#fff",t.css("cursor",l),T=!0)),T&&Cs.length){for(var s=0;s<R;s++)if(f>=Cs[s].x&&f<=Cs[s].x+Ss&&i>=Cs[s].y&&i<=Cs[s].y+ms){d=s+1,t.css("cursor",l),T=!(I=!0);break}270<=f&&f<=330&&482<=i&&i<=506&&(m=!(T=!1))}P&&(560<=f&&f<=590&&10<=i&&i<=35?(w=P=M=!(m=!0),k=d=1):520<=f&&f<=540&&12<=i&&i<=32?Fs():478<=f&&f<=502&&9<=i&&i<=37&&(C=!(rs=!1))),C&&Math.sqrt(Math.pow(f-300,2)+Math.pow(i-300,2))<=100&&(M=P=!(C=!(rs=!0)),As())}),t.keydown(function(s){if(36<s.keyCode&&s.keyCode<41||82==s.keyCode||32==s.keyCode)return 37==s.keyCode&&(Z=2),39==s.keyCode&&(_=2),38==s.keyCode&&(as=!0),38!=s.keyCode||is||(fs=!0,U=ss),82==s.keyCode&&Fs(),32==s.keyCode&&(P?C=!(rs=!1):C&&(M=P=!(C=!(rs=!0)),As())),!1}),t.keyup(function(s){if(36<s.keyCode&&s.keyCode<41)return 37==s.keyCode&&(Z=0),39==s.keyCode&&(_=0),38==s.keyCode&&fs&&(fs=!1,U<0&&(U/=2)),38==s.keyCode&&(as=!1),!1}),function(){for(var p=0,s=["webkit","moz"],e=0;e<s.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[s[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[e]+"CancelAnimationFrame"]||window[s[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(s,e){var h=(new Date).getTime(),t=Math.max(0,16.7-(h-p)),l=window.setTimeout(function(){s(h+t)},t);return p=h+t,l}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(s){clearTimeout(s)})}(),As()})</script></body></html>