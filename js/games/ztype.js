(function(e){"use strict";Number.prototype.map=function(e,i,t,s){return t+(s-t)*((this-e)/(i-e))};Number.prototype.limit=function(e,i){return Math.min(i,Math.max(e,this))};Number.prototype.round=function(e){e=Math.pow(10,e||0);return Math.round(this*e)/e};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return this*180/Math.PI};Array.prototype.erase=function(e){for(var i=this.length;i--;){if(this[i]===e){this.splice(i,1)}}return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var i=Array.prototype.slice.call(arguments,1),t=this,s=function(){},n=function(){return t.apply(this instanceof s&&e?this:e,i.concat(Array.prototype.slice.call(arguments)))};s.prototype=this.prototype;n.prototype=new s;return n};e.ig={game:null,debug:null,version:"1.23",global:e,modules:{},resources:[],ready:false,baked:false,nocache:"",ua:{},prefix:e.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(e){return e.charAt(0)=="#"?document.getElementById(e.substr(1)):document.getElementsByTagName(e)},$new:function(e){return document.createElement(e)},copy:function(e){if(!e||typeof e!="object"||e instanceof HTMLElement||e instanceof ig.Class){return e}else if(e instanceof Array){var i=[];for(var t=0,s=e.length;t<s;t++){i[t]=ig.copy(e[t])}return i}else{var i={};for(var t in e){i[t]=ig.copy(e[t])}return i}},merge:function(e,i){for(var t in i){var s=i[t];if(typeof s!="object"||s instanceof HTMLElement||s instanceof ig.Class||s===null){e[t]=s}else{if(!e[t]||typeof e[t]!="object"){e[t]=s instanceof Array?[]:{}}ig.merge(e[t],s)}}return e},ksort:function(e){if(!e||typeof e!="object"){return[]}var i=[],t=[];for(var s in e){i.push(s)}i.sort();for(var s=0;s<i.length;s++){t.push(e[i[s]])}return t},setVendorAttribute:function(e,i,t){var s=i.charAt(0).toUpperCase()+i.substr(1);e[i]=e["ms"+s]=e["moz"+s]=e["webkit"+s]=e["o"+s]=t},getVendorAttribute:function(e,i){var t=i.charAt(0).toUpperCase()+i.substr(1);return e[i]||e["ms"+t]||e["moz"+t]||e["webkit"+t]||e["o"+t]},normalizeVendorAttribute:function(e,i){var t=ig.getVendorAttribute(e,i);if(!e[i]&&t){e[i]=t}},getImagePixels:function(e,i,t,s,n){var a=ig.$new("canvas");a.width=e.width;a.height=e.height;var r=a.getContext("2d");ig.System.SCALE.CRISP(a,r);var o=ig.getVendorAttribute(r,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(r,"getImageDataHD");var l=e.width/o,d=e.height/o;a.width=Math.ceil(l);a.height=Math.ceil(d);r.drawImage(e,0,0,l,d);return o===1?r.getImageData(i,t,s,n):r.getImageDataHD(i,t,s,n)},module:function(e){if(ig._current){throw"Module '"+ig._current.name+"' defines nothing"}if(ig.modules[e]&&ig.modules[e].body){throw"Module '"+e+"' is already defined"}ig._current={name:e,requires:[],loaded:false,body:null};ig.modules[e]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(e){ig._current.body=e;ig._current=null;ig._initDOMReady()},addResource:function(e){ig.resources.push(e)},setNocache:function(e){ig.nocache=e?"?"+Date.now():""},log:function(){},assert:function(e,i){},show:function(e,i){},mark:function(e,i){},_loadScript:function(e,i){ig.modules[e]={name:e,requires:[],loaded:false,body:null};ig._waitForOnload++;var t=ig.prefix+ig.lib+e.replace(/\./g,"/")+".js"+ig.nocache;var s=ig.$new("script");s.type="text/javascript";s.src=t;s.onload=function(){ig._waitForOnload--;ig._execModules()};s.onerror=function(){throw"Failed to load module "+e+" at "+t+" "+"required from "+i};ig.$("head")[0].appendChild(s)},_execModules:function(){var e=false;for(var i=0;i<ig._loadQueue.length;i++){var t=ig._loadQueue[i];var s=true;for(var n=0;n<t.requires.length;n++){var a=t.requires[n];if(!ig.modules[a]){s=false;ig._loadScript(a,t.name)}else if(!ig.modules[a].loaded){s=false}}if(s&&t.body){ig._loadQueue.splice(i,1);t.loaded=true;t.body();e=true;i--}}if(e){ig._execModules()}else if(!ig.baked&&ig._waitForOnload==0&&ig._loadQueue.length!=0){var r=[];for(var i=0;i<ig._loadQueue.length;i++){var o=[];var l=ig._loadQueue[i].requires;for(var n=0;n<l.length;n++){var t=ig.modules[l[n]];if(!t||!t.loaded){o.push(l[n])}}r.push(ig._loadQueue[i].name+" (requires: "+o.join(", ")+")")}throw"Unresolved (or circular?) dependencies. "+"Most likely there's a name/path mismatch for one of the listed modules "+"or a previous syntax error prevents a module from loading:\n"+r.join("\n")}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body){return setTimeout(ig._DOMReady,13)}ig.modules["dom.ready"].loaded=true;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){if(document.location.href.match(/\?nocache/)){ig.setNocache(true)}ig.ua.pixelRatio=e.devicePixelRatio||1;ig.ua.viewport={width:e.innerWidth,height:e.innerHeight};ig.ua.screen={width:e.screen.availWidth*ig.ua.pixelRatio,height:e.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=ig.ua.iPhone&&ig.ua.pixelRatio==2;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.winPhone||/mobile/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in e||e.navigator.msMaxTouchPoints},_initDOMReady:function(){if(ig.modules["dom.ready"]){ig._execModules();return}ig._boot();ig.modules["dom.ready"]={requires:[],loaded:false,body:null};ig._waitForOnload++;if(document.readyState==="complete"){ig._DOMReady()}else{document.addEventListener("DOMContentLoaded",ig._DOMReady,false);e.addEventListener("load",ig._DOMReady,false)}}};ig.normalizeVendorAttribute(e,"requestAnimationFrame");if(e.requestAnimationFrame){var i=1,t={};e.ig.setAnimation=function(s,n){var a=i++;t[a]=true;var r=function(){if(!t[a]){return}e.requestAnimationFrame(r,n);s()};e.requestAnimationFrame(r,n);return a};e.ig.clearAnimation=function(e){delete t[e]}}else{e.ig.setAnimation=function(i,t){return e.setInterval(i,1e3/60)};e.ig.clearAnimation=function(i){e.clearInterval(i)}}var s=false,n=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;var a=0;e.ig.Class=function(){};var r=function(e){var i=this.prototype;var t={};for(var s in e){if(typeof e[s]=="function"&&typeof i[s]=="function"&&n.test(e[s])){t[s]=i[s];i[s]=function(e,i){return function(){var s=this.parent;this.parent=t[e];var n=i.apply(this,arguments);this.parent=s;return n}}(s,e[s])}else{i[s]=e[s]}}};e.ig.Class.extend=function(i){var t=this.prototype;s=true;var o=new this;s=false;for(var l in i){if(typeof i[l]=="function"&&typeof t[l]=="function"&&n.test(i[l])){o[l]=function(e,i){return function(){var s=this.parent;this.parent=t[e];var n=i.apply(this,arguments);this.parent=s;return n}}(l,i[l])}else{o[l]=i[l]}}function d(){if(!s){if(this.staticInstantiate){var e=this.staticInstantiate.apply(this,arguments);if(e){return e}}for(var i in this){if(typeof this[i]=="object"){this[i]=ig.copy(this[i])}}if(this.init){this.init.apply(this,arguments)}}return this}d.prototype=o;d.prototype.constructor=d;d.extend=e.ig.Class.extend;d.inject=r;d.classId=o.classId=++a;return d};if(e.ImpactMixin){ig.merge(ig,e.ImpactMixin)}})(window);ig.baked=true;ig.module("impact.image").defines(function(){"use strict";ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:false,failed:false,loadCallback:null,path:"",staticInstantiate:function(e){return ig.Image.cache[e]||null},init:function(e){this.path=e;this.load()},load:function(e){if(this.loaded){if(e){e(this.path,true)}return}else if(!this.loaded&&ig.ready){this.loadCallback=e||null;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.onerror=this.onerror.bind(this);this.data.src=ig.prefix+this.path+ig.nocache}else{ig.addResource(this)}ig.Image.cache[this.path]=this},reload:function(){this.loaded=false;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(e){this.width=this.data.width;this.height=this.data.height;this.loaded=true;if(ig.system.scale!=1){this.resize(ig.system.scale)}if(this.loadCallback){this.loadCallback(this.path,true)}},onerror:function(e){this.failed=true;if(this.loadCallback){this.loadCallback(this.path,false)}},resize:function(e){var i=ig.getImagePixels(this.data,0,0,this.width,this.height);var t=this.width*e;var s=this.height*e;var n=ig.$new("canvas");n.width=t;n.height=s;var a=n.getContext("2d");var r=a.getImageData(0,0,t,s);for(var o=0;o<s;o++){for(var l=0;l<t;l++){var d=(Math.floor(o/e)*this.width+Math.floor(l/e))*4;var h=(o*t+l)*4;r.data[h]=i.data[d];r.data[h+1]=i.data[d+1];r.data[h+2]=i.data[d+2];r.data[h+3]=i.data[d+3]}}a.putImageData(r,0,0);this.data=n},draw:function(e,i,t,s,n,a){if(!this.loaded){return}var r=ig.system.scale;t=t?t*r:0;s=s?s*r:0;n=(n?n:this.width)*r;a=(a?a:this.height)*r;ig.system.context.drawImage(this.data,t,s,n,a,ig.system.getDrawPos(e),ig.system.getDrawPos(i),n,a);ig.Image.drawCount++},drawTile:function(e,i,t,s,n,a,r){n=n?n:s;if(!this.loaded||s>this.width||n>this.height){return}var o=ig.system.scale;var l=Math.floor(s*o);var d=Math.floor(n*o);var h=a?-1:1;var c=r?-1:1;if(a||r){ig.system.context.save();ig.system.context.scale(h,c)}ig.system.context.drawImage(this.data,Math.floor(t*s)%this.width*o,Math.floor(t*s/this.width)*n*o,l,d,ig.system.getDrawPos(e)*h-(a?l:0),ig.system.getDrawPos(i)*c-(r?d:0),l,d);if(a||r){ig.system.context.restore()}ig.Image.drawCount++}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var e in ig.Image.cache){ig.Image.cache[e].reload()}}});ig.baked=true;ig.module("impact.font").requires("impact.image").defines(function(){"use strict";ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(e){this._loadMetrics(this.data);this.parent(e)},widthForString:function(e){if(e.indexOf("\n")!==-1){var i=e.split("\n");var t=0;for(var s=0;s<i.length;s++){t=Math.max(t,this._widthForLine(i[s]))}return t}else{return this._widthForLine(e)}},_widthForLine:function(e){var i=0;for(var t=0;t<e.length;t++){i+=this.widthMap[e.charCodeAt(t)-this.firstChar]+this.letterSpacing}return i},heightForString:function(e){return e.split("\n").length*(this.height+this.lineSpacing)},draw:function(e,i,t,s){if(typeof e!="string"){e=e.toString()}if(e.indexOf("\n")!==-1){var n=e.split("\n");var a=this.height+this.lineSpacing;for(var r=0;r<n.length;r++){this.draw(n[r],i,t+r*a,s)}return}if(s==ig.Font.ALIGN.RIGHT||s==ig.Font.ALIGN.CENTER){var o=this._widthForLine(e);i-=s==ig.Font.ALIGN.CENTER?o/2:o}if(this.alpha!==1){ig.system.context.globalAlpha=this.alpha}for(var r=0;r<e.length;r++){var l=e.charCodeAt(r);i+=this._drawChar(l-this.firstChar,i,t)}if(this.alpha!==1){ig.system.context.globalAlpha=1}ig.Image.drawCount+=e.length},_drawChar:function(e,i,t){if(!this.loaded||e<0||e>=this.indices.length){return 0}var s=ig.system.scale;var n=this.indices[e]*s;var a=0;var r=this.widthMap[e]*s;var o=(this.height-2)*s;ig.system.context.drawImage(this.data,n,a,r,o,ig.system.getDrawPos(i),ig.system.getDrawPos(t),r,o);return this.widthMap[e]+this.letterSpacing},_loadMetrics:function(e){this.height=e.height-1;this.widthMap=[];this.indices=[];var i=ig.getImagePixels(e,0,e.height-1,e.width,1);var t=0;var s=0;for(var n=0;n<e.width;n++){var a=n*4+3;if(i.data[a]>127){s++}else if(i.data[a]<128&&s){this.widthMap.push(s);this.indices.push(n-s);t++;s=0}}this.widthMap.push(s);this.indices.push(n-s)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=true;ig.module("impact.sound").defines(function(){"use strict";ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio){ig.Sound.enabled=false;return}var e=new Audio;for(var i=0;i<ig.Sound.use.length;i++){var t=ig.Sound.use[i];if(e.canPlayType(t.mime)){this.format=t;break}}if(!this.format){ig.Sound.enabled=false}if(ig.Sound.enabled&&ig.Sound.useWebAudio){this.audioContext=new AudioContext}},load:function(e,i,t){if(i&&ig.Sound.useWebAudio){return this.loadWebAudio(e,i,t)}else{return this.loadHTML5Audio(e,i,t)}},loadWebAudio:function(e,i,t){var s=ig.prefix+e.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[e]){return this.clips[e]}var n=new ig.Sound.WebAudioSource;this.clips[e]=n;var a=new XMLHttpRequest;a.open("GET",s,true);a.responseType="arraybuffer";var r=this;a.onload=function(i){r.audioContext.decodeAudioData(a.response,function(s){n.buffer=s;t(e,true,i)},function(i){t(e,false,i)})};a.onerror=function(i){t(e,false,i)};a.send();return n},loadHTML5Audio:function(e,i,t){var s=ig.prefix+e.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[e]){if(this.clips[e]instanceof ig.Sound.WebAudioSource){return this.clips[e]}if(i&&this.clips[e].length<ig.Sound.channels){for(var n=this.clips[e].length;n<ig.Sound.channels;n++){var a=new Audio(s);a.load();this.clips[e].push(a)}}return this.clips[e][0]}var r=new Audio(s);if(t){r.addEventListener("canplaythrough",function i(s){r.removeEventListener("canplaythrough",i,false);t(e,true,s)},false);r.addEventListener("error",function(i){t(e,false,i)},false)}r.preload="auto";r.load();this.clips[e]=[r];if(i){for(var n=1;n<ig.Sound.channels;n++){var a=new Audio(s);a.load();this.clips[e].push(a)}}return r},get:function(e){var i=this.clips[e];if(i&&i instanceof ig.Sound.WebAudioSource){return i}for(var t=0,s;s=i[t++];){if(s.paused||s.ended){if(s.ended){s.currentTime=0}return s}}i[0].pause();i[0].currentTime=0;return i[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:false,_volume:1,_loop:false,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)});Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})},add:function(e,i){if(!ig.Sound.enabled){return}var t=e instanceof ig.Sound?e.path:e;var s=ig.soundManager.load(t,false);if(s instanceof ig.Sound.WebAudioSource){ig.system.stopRunLoop();throw"Sound '"+t+"' loaded as Multichannel but used for Music. "+"Set the multiChannel param to false when loading, e.g.: new ig.Sound(path, false)"}s.loop=this._loop;s.volume=this._volume;s.addEventListener("ended",this._endedCallbackBound,false);this.tracks.push(s);if(i){this.namedTracks[i]=s}if(!this.currentTrack){this.currentTrack=s}},next:function(){if(!this.tracks.length){return}this.stop();this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length;this.currentTrack=this.tracks[this.currentIndex];this.play()},pause:function(){if(!this.currentTrack){return}this.currentTrack.pause()},stop:function(){if(!this.currentTrack){return}this.currentTrack.pause();this.currentTrack.currentTime=0},play:function(e){if(e&&this.namedTracks[e]){var i=this.namedTracks[e];if(i!=this.currentTrack){this.stop();this.currentTrack=i}}else if(!this.currentTrack){return}this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(e){this._loop=e;for(var i in this.tracks){this.tracks[i].loop=e}},getVolume:function(){return this._volume},setVolume:function(e){this._volume=e.limit(0,1);for(var i in this.tracks){this.tracks[i].volume=this._volume}},fadeOut:function(e){if(!this.currentTrack){return}clearInterval(this._fadeInterval);this.fadeTimer=new ig.Timer(e);this._fadeInterval=setInterval(this._fadeStep.bind(this),50)},_fadeStep:function(){var e=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;if(e<=.01){this.stop();this.currentTrack.volume=this._volume;clearInterval(this._fadeInterval)}else{this.currentTrack.volume=e}},_endedCallback:function(){if(this._loop){this.play()}else{this.next()}}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:true,_loop:false,init:function(e,i){this.path=e;this.multiChannel=i!==false;Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)});this.load()},getLooping:function(){return this._loop},setLooping:function(e){this._loop=e;if(this.currentClip){this.currentClip.loop=e}},load:function(e){if(!ig.Sound.enabled){if(e){e(this.path,true)}return}if(ig.ready){ig.soundManager.load(this.path,this.multiChannel,e)}else{ig.addResource(this)}},play:function(){if(!ig.Sound.enabled){return}this.currentClip=ig.soundManager.get(this.path);this.currentClip.loop=this._loop;this.currentClip.volume=ig.soundManager.volume*this.volume;this.currentClip.play()},stop:function(){if(this.currentClip){this.currentClip.pause();this.currentClip.currentTime=0}}});ig.Sound.WebAudioSource=ig.Class.extend({sources:[],gain:null,buffer:null,_loop:false,init:function(){this.gain=ig.soundManager.audioContext.createGain();this.gain.connect(ig.soundManager.audioContext.destination);Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)});Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)})},play:function(){if(!this.buffer){return}var e=ig.soundManager.audioContext.createBufferSource();e.buffer=this.buffer;e.connect(this.gain);e.loop=this._loop;var i=this;this.sources.push(e);e.onended=function(){i.sources.erase(e)};e.start(0)},pause:function(){for(var e=0;e<this.sources.length;e++){try{this.sources[e].stop()}catch(e){}}},getLooping:function(){return this._loop},setLooping:function(e){this._loop=e;for(var i=0;i<this.sources.length;i++){this.sources[i].loop=e}},getVolume:function(){return this.gain.gain.value},setVolume:function(e){this.gain.gain.value=e}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=true;ig.normalizeVendorAttribute(window,"AudioContext");ig.Sound.useWebAudio=!!window.AudioContext});ig.baked=true;ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){"use strict";ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:false,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(e,i){this.gameClass=e;this.resources=i;this._loadCallbackBound=this._loadCallback.bind(this);for(var t=0;t<this.resources.length;t++){this._unloaded.push(this.resources[t].path)}},load:function(){ig.system.clear("#000");if(!this.resources.length){this.end();return}for(var e=0;e<this.resources.length;e++){this.loadResource(this.resources[e])}this._intervalId=setInterval(this.draw.bind(this),16)},loadResource:function(e){e.load(this._loadCallbackBound)},end:function(){if(this.done){return}this.done=true;clearInterval(this._intervalId);ig.system.setGame(this.gameClass)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var e=ig.system.scale;var i=ig.system.width*.6;var t=ig.system.height*.1;var s=ig.system.width*.5-i/2;var n=ig.system.height*.5-t/2;ig.system.context.fillStyle="#000";ig.system.context.fillRect(0,0,480,320);ig.system.context.fillStyle="#fff";ig.system.context.fillRect(s*e,n*e,i*e,t*e);ig.system.context.fillStyle="#000";ig.system.context.fillRect(s*e+e,n*e+e,i*e-e-e,t*e-e-e);ig.system.context.fillStyle="#fff";ig.system.context.fillRect(s*e,n*e,i*e*this._drawStatus,t*e)},_loadCallback:function(e,i){if(i){this._unloaded.erase(e)}else{throw"Failed to load resource: "+e}this.status=1-this._unloaded.length/this.resources.length;if(this._unloaded.length==0){setTimeout(this.end.bind(this),250)}}})});ig.baked=true;ig.module("impact.timer").defines(function(){"use strict";ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(e){this.base=ig.Timer.time;this.last=ig.Timer.time;this.target=e||0},set:function(e){this.target=e||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var e=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:e},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){if(!this.pausedAt){this.pausedAt=ig.Timer.time}},unpause:function(){if(this.pausedAt){this.base+=ig.Timer.time-this.pausedAt;this.pausedAt=0}}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=.05;ig.Timer.step=function(){var e=Date.now();var i=(e-ig.Timer._last)/1e3;ig.Timer.time+=Math.min(i,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=e}});ig.baked=true;ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){"use strict";ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:false,delegate:null,clock:null,canvas:null,context:null,init:function(e,i,t,s,n){this.fps=i;this.clock=new ig.Timer;this.canvas=ig.$(e);this.resize(t,s,n);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode;if(this.scale!=1){ig.System.scaleMode=ig.System.SCALE.CRISP}ig.System.scaleMode(this.canvas,this.context)},resize:function(e,i,t){this.width=e;this.height=i;this.scale=t||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(e){if(this.running){this.newGameClass=e}else{this.setGameNow(e)}},setGameNow:function(e){ig.game=new e;ig.system.setDelegate(ig.game)},setDelegate:function(e){if(typeof e.run=="function"){this.delegate=e;this.startRunLoop()}else{throw"System.setDelegate: No run() function in object"}},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=false},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=true},clear:function(e){this.context.fillStyle=e;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();if(this.newGameClass){this.setGameNow(this.newGameClass);this.newGameClass=null}},getDrawPos:null});ig.System.DRAW={AUTHENTIC:function(e){return Math.round(e)*this.scale},SMOOTH:function(e){return Math.round(e*this.scale)},SUBPIXEL:function(e){return e*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(e,i){ig.setVendorAttribute(i,"imageSmoothingEnabled",false);e.style.imageRendering="-moz-crisp-edges";e.style.imageRendering="-o-crisp-edges";e.style.imageRendering="-webkit-optimize-contrast";e.style.imageRendering="crisp-edges";e.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(e,i){ig.setVendorAttribute(i,"imageSmoothingEnabled",true);e.style.imageRendering="";e.style.msInterpolationMode=""}};ig.System.scaleMode=ig.System.SCALE.SMOOTH});ig.baked=true;ig.module("impact.input").defines(function(){"use strict";ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:false,isUsingKeyboard:false,isUsingAccelerometer:false,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(this.isUsingMouse){return}this.isUsingMouse=true;var e=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",e,false);ig.system.canvas.addEventListener("DOMMouseScroll",e,false);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),false);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),false);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),false);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),false);if(ig.ua.touchDevice){ig.system.canvas.addEventListener("touchstart",this.keydown.bind(this),false);ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),false);ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),false);ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),false);ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),false);ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),false);ig.system.canvas.style.msTouchAction="none"}},initKeyboard:function(){if(this.isUsingKeyboard){return}this.isUsingKeyboard=true;window.addEventListener("keydown",this.keydown.bind(this),false);window.addEventListener("keyup",this.keyup.bind(this),false)},initAccelerometer:function(){if(this.isUsingAccelerometer){return}window.addEventListener("devicemotion",this.devicemotion.bind(this),false)},mousewheel:function(e){var i=e.wheelDelta?e.wheelDelta:e.detail*-1;var t=i>0?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN;var s=this.bindings[t];if(s){this.actions[s]=true;this.presses[s]=true;this.delayedKeyup[s]=true;e.stopPropagation();e.preventDefault()}},mousemove:function(e){var i=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;var t=ig.system.scale*(i/ig.system.realWidth);var s={left:0,top:0};if(ig.system.canvas.getBoundingClientRect){s=ig.system.canvas.getBoundingClientRect()}var n=e.touches?e.touches[0]:e;this.mouse.x=(n.clientX-s.left)/t;this.mouse.y=(n.clientY-s.top)/t},contextmenu:function(e){if(this.bindings[ig.KEY.MOUSE2]){e.stopPropagation();e.preventDefault()}},keydown:function(e){var i=e.target.tagName;if(i=="INPUT"||i=="TEXTAREA"){return}var t=e.type=="keydown"?e.keyCode:e.button==2?ig.KEY.MOUSE2:ig.KEY.MOUSE1;if(e.type=="touchstart"||e.type=="mousedown"){this.mousemove(e)}var s=this.bindings[t];if(s){this.actions[s]=true;if(!this.locks[s]){this.presses[s]=true;this.locks[s]=true}e.stopPropagation();e.preventDefault()}},keyup:function(e){var i=e.target.tagName;if(i=="INPUT"||i=="TEXTAREA"){return}var t=e.type=="keyup"?e.keyCode:e.button==2?ig.KEY.MOUSE2:ig.KEY.MOUSE1;var s=this.bindings[t];if(s){this.delayedKeyup[s]=true;e.stopPropagation();e.preventDefault()}},devicemotion:function(e){this.accel=e.accelerationIncludingGravity},bind:function(e,i){if(e<0){this.initMouse()}else if(e>0){this.initKeyboard()}this.bindings[e]=i},bindTouch:function(e,i){var t=ig.$(e);var s=this;t.addEventListener("touchstart",function(e){s.touchStart(e,i)},false);t.addEventListener("touchend",function(e){s.touchEnd(e,i)},false);t.addEventListener("MSPointerDown",function(e){s.touchStart(e,i)},false);t.addEventListener("MSPointerUp",function(e){s.touchEnd(e,i)},false)},unbind:function(e){var i=this.bindings[e];this.delayedKeyup[i]=true;this.bindings[e]=null},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(e){return this.actions[e]},pressed:function(e){return this.presses[e]},released:function(e){return!!this.delayedKeyup[e]},clearPressed:function(){for(var e in this.delayedKeyup){this.actions[e]=false;this.locks[e]=false}this.delayedKeyup={};this.presses={}},touchStart:function(e,i){this.actions[i]=true;this.presses[i]=true;e.stopPropagation();e.preventDefault();return false},touchEnd:function(e,i){this.delayedKeyup[i]=true;e.stopPropagation();e.preventDefault();return false}})});ig.baked=true;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){"use strict";ig.main=function(e,i,t,s,n,a,r){ig.system=new ig.System(e,t,s,n,a||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=true;var o=new(r||ig.Loader)(i,ig.resources);o.load()}});ig.baked=true;ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){"use strict";ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(e,i,t){this.width=i;this.height=t;this.image=new ig.Image(e)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:false,y:false},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(e,i,t,s){this.sheet=e;this.pivot={x:e.width/2,y:e.height/2};this.timer=new ig.Timer;this.frameTime=i;this.sequence=t;this.stop=!!s;this.tile=this.sequence[0]},rewind:function(){this.timer.set();this.loopCount=0;this.frame=0;this.tile=this.sequence[0];return this},gotoFrame:function(e){this.timer.set(this.frameTime*-e-1e-4);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var e=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(e/this.sequence.length);if(this.stop&&this.loopCount>0){this.frame=this.sequence.length-1}else{this.frame=e%this.sequence.length}this.tile=this.sequence[this.frame]},draw:function(e,i){var t=Math.max(this.sheet.width,this.sheet.height);if(e>ig.system.width||i>ig.system.height||e+t<0||i+t<0){return}if(this.alpha!=1){ig.system.context.globalAlpha=this.alpha}if(this.angle==0){this.sheet.image.drawTile(e,i,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y)}else{ig.system.context.save();ig.system.context.translate(ig.system.getDrawPos(e+this.pivot.x),ig.system.getDrawPos(i+this.pivot.y));ig.system.context.rotate(this.angle);this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y);ig.system.context.restore()}if(this.alpha!=1){ig.system.context.globalAlpha=1}}})});ig.baked=true;ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){"use strict";ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:false,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:false,slopeStanding:{min:44..toRad(),max:136..toRad()},init:function(e,i,t){this.id=++ig.Entity._lastId;this.pos.x=this.last.x=e;this.pos.y=this.last.y=i;ig.merge(this,t)},reset:function(e,i,t){var s=this.constructor.prototype;this.pos.x=e;this.pos.y=i;this.last.x=e;this.last.y=i;this.vel.x=s.vel.x;this.vel.y=s.vel.y;this.accel.x=s.accel.x;this.accel.y=s.accel.y;this.health=s.health;this._killed=s._killed;this.standing=s.standing;this.type=s.type;this.checkAgainst=s.checkAgainst;this.collides=s.collides;ig.merge(this,t)},addAnim:function(e,i,t,s){if(!this.animSheet){throw"No animSheet to add the animation "+e+" to."}var n=new ig.Animation(this.animSheet,i,t,s);this.anims[e]=n;if(!this.currentAnim){this.currentAnim=n}return n},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var e=this.vel.x*ig.system.tick;var i=this.vel.y*ig.system.tick;var t=ig.game.collisionMap.trace(this.pos.x,this.pos.y,e,i,this.size.x,this.size.y);this.handleMovementTrace(t);if(this.currentAnim){this.currentAnim.update()}},getNewVelocity:function(e,i,t,s){if(i){return(e+i*ig.system.tick).limit(-s,s)}else if(t){var n=t*ig.system.tick;if(e-n>0){return e-n}else if(e+n<0){return e+n}else{return 0}}return e.limit(-s,s)},handleMovementTrace:function(e){this.standing=false;if(e.collision.y){if(this.bounciness>0&&Math.abs(this.vel.y)>this.minBounceVelocity){this.vel.y*=-this.bounciness}else{if(this.vel.y>0){this.standing=true}this.vel.y=0}}if(e.collision.x){if(this.bounciness>0&&Math.abs(this.vel.x)>this.minBounceVelocity){this.vel.x*=-this.bounciness}else{this.vel.x=0}}if(e.collision.slope){var i=e.collision.slope;if(this.bounciness>0){var t=this.vel.x*i.nx+this.vel.y*i.ny;this.vel.x=(this.vel.x-i.nx*t*2)*this.bounciness;this.vel.y=(this.vel.y-i.ny*t*2)*this.bounciness}else{var s=i.x*i.x+i.y*i.y;var n=(this.vel.x*i.x+this.vel.y*i.y)/s;this.vel.x=i.x*n;this.vel.y=i.y*n;var a=Math.atan2(i.x,i.y);if(a>this.slopeStanding.min&&a<this.slopeStanding.max){this.standing=true}}}this.pos=e.pos},draw:function(){if(this.currentAnim){this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)}},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(e,i){this.health-=e;if(this.health<=0){this.kill()}},touches:function(e){return!(this.pos.x>=e.pos.x+e.size.x||this.pos.x+this.size.x<=e.pos.x||this.pos.y>=e.pos.y+e.size.y||this.pos.y+this.size.y<=e.pos.y)},distanceTo:function(e){var i=this.pos.x+this.size.x/2-(e.pos.x+e.size.x/2);var t=this.pos.y+this.size.y/2-(e.pos.y+e.size.y/2);return Math.sqrt(i*i+t*t)},angleTo:function(e){return Math.atan2(e.pos.y+e.size.y/2-(this.pos.y+this.size.y/2),e.pos.x+e.size.x/2-(this.pos.x+this.size.x/2))},check:function(e){},collideWith:function(e,i){},ready:function(){},erase:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(e,i){if(e.checkAgainst&i.type){e.check(i)}if(i.checkAgainst&e.type){i.check(e)}if(e.collides&&i.collides&&e.collides+i.collides>ig.Entity.COLLIDES.ACTIVE){ig.Entity.solveCollision(e,i)}};ig.Entity.solveCollision=function(e,i){var t=null;if(e.collides==ig.Entity.COLLIDES.LITE||i.collides==ig.Entity.COLLIDES.FIXED){t=e}else if(i.collides==ig.Entity.COLLIDES.LITE||e.collides==ig.Entity.COLLIDES.FIXED){t=i}if(e.last.x+e.size.x>i.last.x&&e.last.x<i.last.x+i.size.x){if(e.last.y<i.last.y){ig.Entity.seperateOnYAxis(e,i,t)}else{ig.Entity.seperateOnYAxis(i,e,t)}e.collideWith(i,"y");i.collideWith(e,"y")}else if(e.last.y+e.size.y>i.last.y&&e.last.y<i.last.y+i.size.y){if(e.last.x<i.last.x){ig.Entity.seperateOnXAxis(e,i,t)}else{ig.Entity.seperateOnXAxis(i,e,t)}e.collideWith(i,"x");i.collideWith(e,"x")}};ig.Entity.seperateOnXAxis=function(e,i,t){var s=e.pos.x+e.size.x-i.pos.x;if(t){var n=e===t?i:e;t.vel.x=-t.vel.x*t.bounciness+n.vel.x;var a=ig.game.collisionMap.trace(t.pos.x,t.pos.y,t==e?-s:s,0,t.size.x,t.size.y);t.pos.x=a.pos.x}else{var r=(e.vel.x-i.vel.x)/2;e.vel.x=-r;i.vel.x=r;var o=ig.game.collisionMap.trace(e.pos.x,e.pos.y,-s/2,0,e.size.x,e.size.y);e.pos.x=Math.floor(o.pos.x);var l=ig.game.collisionMap.trace(i.pos.x,i.pos.y,s/2,0,i.size.x,i.size.y);i.pos.x=Math.ceil(l.pos.x)}};ig.Entity.seperateOnYAxis=function(e,i,t){var s=e.pos.y+e.size.y-i.pos.y;if(t){var n=e===t?i:e;t.vel.y=-t.vel.y*t.bounciness+n.vel.y;var a=0;if(t==e&&Math.abs(t.vel.y-n.vel.y)<t.minBounceVelocity){t.standing=true;a=n.vel.x*ig.system.tick}var r=ig.game.collisionMap.trace(t.pos.x,t.pos.y,a,t==e?-s:s,t.size.x,t.size.y);t.pos.y=r.pos.y;t.pos.x=r.pos.x}else if(ig.game.gravity&&(i.standing||e.vel.y>0)){var o=ig.game.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-i.pos.y),e.size.x,e.size.y);e.pos.y=o.pos.y;if(e.bounciness>0&&e.vel.y>e.minBounceVelocity){e.vel.y*=-e.bounciness}else{e.standing=true;e.vel.y=0}}else{var l=(e.vel.y-i.vel.y)/2;e.vel.y=-l;i.vel.y=l;var a=i.vel.x*ig.system.tick;var o=ig.game.collisionMap.trace(e.pos.x,e.pos.y,a,-s/2,e.size.x,e.size.y);e.pos.y=o.pos.y;var d=ig.game.collisionMap.trace(i.pos.x,i.pos.y,0,s/2,i.size.x,i.size.y);i.pos.y=d.pos.y}}});ig.baked=true;ig.module("impact.map").defines(function(){"use strict";ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(e,i){this.tilesize=e;this.data=i;this.height=i.length;this.width=i[0].length;this.pxWidth=this.width*this.tilesize;this.pxHeight=this.height*this.tilesize},getTile:function(e,i){var t=Math.floor(e/this.tilesize);var s=Math.floor(i/this.tilesize);if(t>=0&&t<this.width&&(s>=0&&s<this.height)){return this.data[s][t]}else{return 0}},setTile:function(e,i,t){var s=Math.floor(e/this.tilesize);var n=Math.floor(i/this.tilesize);if(s>=0&&s<this.width&&(n>=0&&n<this.height)){this.data[n][s]=t}}})});ig.baked=true;ig.module("impact.collision-map").requires("impact.map").defines(function(){"use strict";ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(e,i,t){this.parent(e,i);this.tiledef=t||ig.CollisionMap.defaultTileDef;for(var s in this.tiledef){if(s|0>this.lastSlope){this.lastSlope=s|0}}},trace:function(e,i,t,s,n,a){var r={collision:{x:false,y:false,slope:false},pos:{x:e,y:i},tile:{x:0,y:0}};var o=Math.ceil(Math.max(Math.abs(t),Math.abs(s))/this.tilesize);if(o>1){var l=t/o;var d=s/o;for(var h=0;h<o&&(l||d);h++){this._traceStep(r,e,i,l,d,n,a,t,s,h);e=r.pos.x;i=r.pos.y;if(r.collision.x){l=0;t=0}if(r.collision.y){d=0;s=0}if(r.collision.slope){break}}}else{this._traceStep(r,e,i,t,s,n,a,t,s,0)}return r},_traceStep:function(e,i,t,s,n,a,r,o,l,d){e.pos.x+=s;e.pos.y+=n;var h=0;if(s){var c=s>0?a:0;var u=s<0?this.tilesize:0;var g=Math.max(Math.floor(t/this.tilesize),0);var p=Math.min(Math.ceil((t+r)/this.tilesize),this.height);var m=Math.floor((e.pos.x+c)/this.tilesize);var f=Math.floor((i+c)/this.tilesize);if(d>0||m==f||f<0||f>=this.width){f=-1}if(m>=0&&m<this.width){for(var y=g;y<p;y++){if(f!=-1){h=this.data[y][f];if(h>1&&h<=this.lastSlope&&this._checkTileDef(e,h,i,t,o,l,a,r,f,y)){break}}h=this.data[y][m];if(h==1||h>this.lastSlope||h>1&&this._checkTileDef(e,h,i,t,o,l,a,r,m,y)){if(h>1&&h<=this.lastSlope&&e.collision.slope){break}e.collision.x=true;e.tile.x=h;i=e.pos.x=m*this.tilesize-c+u;o=0;break}}}}if(n){var v=n>0?r:0;var w=n<0?this.tilesize:0;var b=Math.max(Math.floor(e.pos.x/this.tilesize),0);var x=Math.min(Math.ceil((e.pos.x+a)/this.tilesize),this.width);var y=Math.floor((e.pos.y+v)/this.tilesize);var k=Math.floor((t+v)/this.tilesize);if(d>0||y==k||k<0||k>=this.height){k=-1}if(y>=0&&y<this.height){for(var m=b;m<x;m++){if(k!=-1){h=this.data[k][m];if(h>1&&h<=this.lastSlope&&this._checkTileDef(e,h,i,t,o,l,a,r,m,k)){break}}h=this.data[y][m];if(h==1||h>this.lastSlope||h>1&&this._checkTileDef(e,h,i,t,o,l,a,r,m,y)){if(h>1&&h<=this.lastSlope&&e.collision.slope){break}e.collision.y=true;e.tile.y=h;e.pos.y=y*this.tilesize-v+w;break}}}}},_checkTileDef:function(e,i,t,s,n,a,r,o,l,d){var h=this.tiledef[i];if(!h){return false}var c=(l+h[0])*this.tilesize,u=(d+h[1])*this.tilesize,g=(h[2]-h[0])*this.tilesize,p=(h[3]-h[1])*this.tilesize,m=h[4];var f=t+n+(p<0?r:0)-c,y=s+a+(g>0?o:0)-u;if(g*y-p*f>0){if(n*-p+a*g<0){return m}var v=Math.sqrt(g*g+p*p);var w=p/v,b=-g/v;var x=f*w+y*b;var k=w*x,E=b*x;if(k*k+E*E>=n*n+a*a){return m||g*(y-a)-p*(f-n)<.5}e.pos.x=t+n-k;e.pos.y=s+a-E;e.collision.slope={x:g,y:p,nx:w,ny:b};return true}return false}});var e=1/2,i=1/3,t=2/3,s=true,n=false;ig.CollisionMap.defaultTileDef={5:[0,1,1,t,s],6:[0,t,1,i,s],7:[0,i,1,0,s],3:[0,1,1,e,s],4:[0,e,1,0,s],2:[0,1,1,0,s],10:[e,1,1,0,s],21:[0,1,e,0,s],32:[t,1,1,0,s],43:[i,1,t,0,s],54:[0,1,i,0,s],27:[0,0,1,i,s],28:[0,i,1,t,s],29:[0,t,1,1,s],25:[0,0,1,e,s],26:[0,e,1,1,s],24:[0,0,1,1,s],11:[0,0,e,1,s],22:[e,0,1,1,s],33:[0,0,i,1,s],44:[i,0,t,1,s],55:[t,0,1,1,s],16:[1,i,0,0,s],17:[1,t,0,i,s],18:[1,1,0,t,s],14:[1,e,0,0,s],15:[1,1,0,e,s],13:[1,1,0,0,s],8:[e,1,0,0,s],19:[1,1,e,0,s],30:[i,1,0,0,s],41:[t,1,i,0,s],52:[1,1,t,0,s],38:[1,t,0,1,s],39:[1,i,0,t,s],40:[1,0,0,i,s],36:[1,e,0,1,s],37:[1,0,0,e,s],35:[1,0,0,1,s],9:[1,0,e,1,s],20:[e,0,0,1,s],31:[1,0,t,1,s],42:[t,0,i,1,s],53:[i,0,0,1,s],12:[0,0,1,0,n],23:[1,1,0,1,n],34:[1,0,1,1,n],45:[0,1,0,0,n]};ig.CollisionMap.staticNoCollision={trace:function(e,i,t,s){return{collision:{x:false,y:false,slope:false},pos:{x:e+t,y:i+s},tile:{x:0,y:0}}}}});ig.baked=true;ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){"use strict";ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:false,tilesetName:"",foreground:false,enabled:true,preRender:false,preRenderedChunks:null,chunkSize:512,debugChunks:false,anims:{},init:function(e,i,t){this.parent(e,i);this.setTileset(t)},setTileset:function(e){this.tilesetName=e instanceof ig.Image?e.path:e;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(e,i){this.scroll.x=e/this.distance;this.scroll.y=i/this.distance},preRenderMapToChunks:function(){var e=this.width*this.tilesize*ig.system.scale,i=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(e,i),this.chunkSize);var t=Math.ceil(e/this.chunkSize),s=Math.ceil(i/this.chunkSize);this.preRenderedChunks=[];for(var n=0;n<s;n++){this.preRenderedChunks[n]=[];for(var a=0;a<t;a++){var r=a==t-1?e-a*this.chunkSize:this.chunkSize;var o=n==s-1?i-n*this.chunkSize:this.chunkSize;this.preRenderedChunks[n][a]=this.preRenderChunk(a,n,r,o)}}},preRenderChunk:function(e,i,t,s){var n=t/this.tilesize/ig.system.scale+1,a=s/this.tilesize/ig.system.scale+1;var r=e*this.chunkSize/ig.system.scale%this.tilesize,o=i*this.chunkSize/ig.system.scale%this.tilesize;var l=Math.floor(e*this.chunkSize/this.tilesize/ig.system.scale),d=Math.floor(i*this.chunkSize/this.tilesize/ig.system.scale);var h=ig.$new("canvas");h.width=t;h.height=s;h.retinaResolutionEnabled=false;var c=h.getContext("2d");ig.System.scaleMode(h,c);var u=ig.system.context;ig.system.context=c;for(var g=0;g<n;g++){for(var p=0;p<a;p++){if(g+l<this.width&&p+d<this.height){var m=this.data[p+d][g+l];if(m){this.tiles.drawTile(g*this.tilesize-r,p*this.tilesize-o,m-1,this.tilesize)}}}}ig.system.context=u;return h},draw:function(){if(!this.tiles.loaded||!this.enabled){return}if(this.preRender){this.drawPreRendered()}else{this.drawTiled()}},drawPreRendered:function(){if(!this.preRenderedChunks){this.preRenderMapToChunks()}var e=ig.system.getDrawPos(this.scroll.x),i=ig.system.getDrawPos(this.scroll.y);if(this.repeat){var t=this.width*this.tilesize*ig.system.scale;e=(e%t+t)%t;var s=this.height*this.tilesize*ig.system.scale;i=(i%s+s)%s}var n=Math.max(Math.floor(e/this.chunkSize),0),a=Math.max(Math.floor(i/this.chunkSize),0),r=Math.ceil((e+ig.system.realWidth)/this.chunkSize),o=Math.ceil((i+ig.system.realHeight)/this.chunkSize),l=this.preRenderedChunks[0].length,d=this.preRenderedChunks.length;if(!this.repeat){r=Math.min(r,l);o=Math.min(o,d)}var h=0;for(var c=a;c<o;c++){var u=0;for(var g=n;g<r;g++){var p=this.preRenderedChunks[c%d][g%l];var m=-e+g*this.chunkSize-u;var f=-i+c*this.chunkSize-h;ig.system.context.drawImage(p,m,f);ig.Image.drawCount++;if(this.debugChunks){ig.system.context.strokeStyle="#f0f";ig.system.context.strokeRect(m,f,this.chunkSize,this.chunkSize)}if(this.repeat&&p.width<this.chunkSize&&m+p.width<ig.system.realWidth){u+=this.chunkSize-p.width;r++}}if(this.repeat&&p.height<this.chunkSize&&f+p.height<ig.system.realHeight){h+=this.chunkSize-p.height;o++}}},drawTiled:function(){var e=0,i=null,t=(this.scroll.x/this.tilesize).toInt(),s=(this.scroll.y/this.tilesize).toInt(),n=this.scroll.x%this.tilesize,a=this.scroll.y%this.tilesize,r=-n-this.tilesize,o=-a-this.tilesize,l=ig.system.width+this.tilesize-n,d=ig.system.height+this.tilesize-a;for(var h=-1,c=o;c<d;h++,c+=this.tilesize){var u=h+s;if(u>=this.height||u<0){if(!this.repeat){continue}u=(u%this.height+this.height)%this.height}for(var g=-1,p=r;p<l;g++,p+=this.tilesize){var m=g+t;if(m>=this.width||m<0){if(!this.repeat){continue}m=(m%this.width+this.width)%this.width}if(e=this.data[u][m]){if(i=this.anims[e-1]){i.draw(p,c)}else{this.tiles.drawTile(p,c,e-1,this.tilesize)}}}}}})});ig.baked=true;ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){"use strict";ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:false,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:false,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;ig.game=this;return null},loadLevel:function(e){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var i=0;i<e.entities.length;i++){var t=e.entities[i];this.spawnEntity(t.type,t.x,t.y,t.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(var i=0;i<e.layer.length;i++){var s=e.layer[i];if(s.name=="collision"){this.collisionMap=new ig.CollisionMap(s.tilesize,s.data)}else{var n=new ig.BackgroundMap(s.tilesize,s.data,s.tilesetName);n.anims=this.backgroundAnims[s.tilesetName]||{};n.repeat=s.repeat;n.distance=s.distance;n.foreground=!!s.foreground;n.preRender=!!s.preRender;n.name=s.name;this.backgroundMaps.push(n)}}for(var i=0;i<this.entities.length;i++){this.entities[i].ready()}},loadLevelDeferred:function(e){this._levelToLoad=e},getMapByName:function(e){if(e=="collision"){return this.collisionMap}for(var i=0;i<this.backgroundMaps.length;i++){if(this.backgroundMaps[i].name==e){return this.backgroundMaps[i]}}return null},getEntityByName:function(e){return this.namedEntities[e]},getEntitiesByType:function(e){var i=typeof e==="string"?ig.global[e]:e;var t=[];for(var s=0;s<this.entities.length;s++){var n=this.entities[s];if(n instanceof i&&!n._killed){t.push(n)}}return t},spawnEntity:function(e,i,t,s){var n=typeof e==="string"?ig.global[e]:e;if(!n){throw"Can't spawn entity of type "+e}var a=new n(i,t,s||{});this.entities.push(a);if(a.name){this.namedEntities[a.name]=a}return a},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=true},removeEntity:function(e){if(e.name){delete this.namedEntities[e.name]}e._killed=true;e.type=ig.Entity.TYPE.NONE;e.checkAgainst=ig.Entity.TYPE.NONE;e.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(e)},run:function(){this.update();this.draw()},update:function(){if(this._levelToLoad){this.loadLevel(this._levelToLoad);this._levelToLoad=null}this.updateEntities();this.checkEntities();for(var e=0;e<this._deferredKill.length;e++){this._deferredKill[e].erase();this.entities.erase(this._deferredKill[e])}this._deferredKill=[];if(this._doSortEntities||this.autoSort){this.sortEntities();this._doSortEntities=false}for(var i in this.backgroundAnims){var t=this.backgroundAnims[i];for(var s in t){t[s].update()}}},updateEntities:function(){for(var e=0;e<this.entities.length;e++){var i=this.entities[e];if(!i._killed){i.update()}}},draw:function(){if(this.clearColor){ig.system.clear(this.clearColor)}this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var e;for(e=0;e<this.backgroundMaps.length;e++){var i=this.backgroundMaps[e];if(i.foreground){break}i.setScreenPos(this.screen.x,this.screen.y);i.draw()}this.drawEntities();for(e;e<this.backgroundMaps.length;e++){var i=this.backgroundMaps[e];i.setScreenPos(this.screen.x,this.screen.y);i.draw()}},drawEntities:function(){for(var e=0;e<this.entities.length;e++){this.entities[e].draw()}},checkEntities:function(){var e={};for(var i=0;i<this.entities.length;i++){var t=this.entities[i];if(t.type==ig.Entity.TYPE.NONE&&t.checkAgainst==ig.Entity.TYPE.NONE&&t.collides==ig.Entity.COLLIDES.NEVER){continue}var s={},n=Math.floor(t.pos.x/this.cellSize),a=Math.floor(t.pos.y/this.cellSize),r=Math.floor((t.pos.x+t.size.x)/this.cellSize)+1,o=Math.floor((t.pos.y+t.size.y)/this.cellSize)+1;for(var l=n;l<r;l++){for(var d=a;d<o;d++){if(!e[l]){e[l]={};e[l][d]=[t]}else if(!e[l][d]){e[l][d]=[t]}else{var h=e[l][d];for(var c=0;c<h.length;c++){if(t.touches(h[c])&&!s[h[c].id]){s[h[c].id]=true;ig.Entity.checkPair(t,h[c])}}h.push(t)}}}}}});ig.Game.SORT={Z_INDEX:function(e,i){return e.zIndex-i.zIndex},POS_X:function(e,i){return e.pos.x+e.size.x-(i.pos.x+i.size.x)},POS_Y:function(e,i){return e.pos.y+e.size.y-(i.pos.y+i.size.y)}}});ig.baked=true;ig.module("game.menus").requires("impact.font").defines(function(){MenuItem=ig.Class.extend({getText:function(){return"none"},left:function(){},right:function(){},ok:function(){},click:function(){this.ok();ig.system.canvas.style.cursor="auto"}});Menu=ig.Class.extend({clearColor:null,name:null,font:new ig.Font("/media/planeword/fonts/tungsten-18.png"),fontSelected:new ig.Font("/media/planeword/fonts/tungsten-18-orange.png"),fontTitle:new ig.Font("/media/planeword/fonts/tungsten-48.png"),current:0,itemClasses:[],items:[],init:function(){this.y=ig.system.height/4+160;for(var e=0;e<this.itemClasses.length;e++){this.items.push(new this.itemClasses[e])}},update:function(){if(ig.input.pressed("up")){this.current--}if(ig.input.pressed("down")){this.current++}this.current=this.current.limit(0,this.items.length-1);if(ig.input.pressed("left")){this.items[this.current].left()}if(ig.input.pressed("right")){this.items[this.current].right()}if(ig.input.pressed("ok")){this.items[this.current].ok()}var e=this.y;var i=ig.system.width/2;var t=null;for(var s=0;s<this.items.length;s++){var n=this.items[s];var a=this.font.widthForString(n.getText())/2;if(ig.input.mouse.x>i-a&&ig.input.mouse.x<i+a&&ig.input.mouse.y>e&&ig.input.mouse.y<e+24){t=n;this.current=s}e+=30}if(t){ig.system.canvas.style.cursor="pointer";if(ig.input.pressed("click")){t.click()}}else{ig.system.canvas.style.cursor="auto"}},draw:function(){if(this.clearColor){ig.system.context.fillStyle=this.clearColor;ig.system.context.fillRect(0,0,ig.system.width,ig.system.height)}var e=ig.system.width/2;var i=this.y;if(this.name){this.fontTitle.draw(this.name,e,i-160,ig.Font.ALIGN.CENTER)}for(var t=0;t<this.items.length;t++){var s=this.items[t].getText();if(t==this.current){this.fontSelected.draw(s,e,i,ig.Font.ALIGN.CENTER)}else{this.font.draw(s,e,i,ig.Font.ALIGN.CENTER)}i+=30}}});MenuItemSoundVolume=MenuItem.extend({getText:function(){return String.fromCharCode(131)+" < "+(ig.soundManager.volume*100).round()+"% >"},left:function(){ig.soundManager.volume=(ig.soundManager.volume-.1).limit(0,1)},right:function(){ig.soundManager.volume=(ig.soundManager.volume+.1).limit(0,1)},click:function(){if(ig.input.mouse.x>220){this.right()}else{this.left()}}});MenuItemMusicVolume=MenuItem.extend({getText:function(){return String.fromCharCode(132)+" < "+(ig.music.volume*100).round()+"% >"},left:function(){ig.music.volume=(ig.music.volume-.1).limit(0,1)},right:function(){ig.music.volume=(ig.music.volume+.1).limit(0,1)},click:function(){if(ig.input.mouse.x>220){this.right()}else{this.left()}}});MenuItemResume=MenuItem.extend({getText:function(){return String.fromCharCode(133)},ok:function(){ig.game.toggleMenu()}});PauseMenu=Menu.extend({name:String.fromCharCode(141),clearColor:"rgba(0,0,0,0.9)",itemClasses:[MenuItemSoundVolume,MenuItemMusicVolume,MenuItemResume]});MenuItemNormalMode=MenuItem.extend({getText:function(){return String.fromCharCode(128)},ok:function(){ig.game.difficulty="NORMAL";ig.game.setGame()}});MenuItemExpertMode=MenuItem.extend({getText:function(){return String.fromCharCode(129)},ok:function(){ig.game.difficulty="EXPERT";ig.game.setGame()}});MenuItemSoundMenu=MenuItem.extend({getText:function(){return String.fromCharCode(130)},ok:function(){ig.game.toggleMenu()}});TitleMenu=Menu.extend({itemClasses:[MenuItemNormalMode,MenuItemExpertMode,MenuItemSoundMenu]});MenuItemBack=MenuItem.extend({getText:function(){return String.fromCharCode(140)},ok:function(){ig.game.setTitle()}});GameOverMenu=Menu.extend({init:function(){this.parent();this.y=ig.system.height/4+240},itemClasses:[MenuItemBack]})});ig.baked=true;ig.module("game.words").defines(function(){WORDS={2:["am","an","as","at","be","by","cs","do","go","he","if","in","is","it","me","my","no","of","oh","on","or","pi","re","so","to","up","us","we"],3:["act","add","age","ago","aid","aim","air","all","and","any","are","arm","art","ask","ate","bad","ban","bar","bed","bet","bid","big","bit","box","boy","bug","bus","but","buy","can","car","cat","cry","cup","cut","day","did","die","doe","dog","dry","due","eat","end","err","eye","fan","far","fed","few","fit","fix","fly","for","fry","fun","gap","gas","get","got","gun","guy","had","has","hat","her","hid","him","his","hit","hot","how","ice","ill","its","job","joy","key","kid","law","lay","led","leg","let","lie","log","lot","low","mad","man","map","may","men","met","mix","mod","net","new","nor","not","now","odd","off","oil","old","one","our","out","owe","own","pay","pen","per","pop","put","ran","raw","red","rid","row","run","sad","sat","saw","say","see","set","sex","she","sit","six","son","sum","sun","tax","tea","ten","the","tie","tin","too","top","try","two","use","van","via","war","was","way","who","why","win","won","yes","yet","you"],4:["able","acts","adds","ages","aims","also","area","army","asks","away","back","ball","band","bank","bars","base","bear","been","best","bets","bids","bill","bind","bite","bits","blow","blue","boat","body","book","boot","bore","both","bugs","bulk","bury","busy","buys","byte","call","came","card","care","case","cell","cent","char","chip","city","club","clue","code","cold","come","cope","copy","core","cost","cure","cuts","dare","dark","data","date","days","dead","deal","dear","deem","deep","desk","died","dies","disc","disk","does","done","door","down","draw","drew","drop","dumb","dump","duty","each","ease","east","easy","eats","edge","edit","else","ends","even","ever","eyes","face","fact","fail","fair","fall","farm","fast","fate","fear","feed","feel","feet","fell","felt","file","fill","film","find","fine","fire","firm","fish","fits","five","flag","flat","flew","flow","folk","food","foot","form","four","free","from","full","fund","gain","game","gave","gets","girl","give","glad","goes","gone","good","grew","grow","hack","hair","half","hall","hand","hang","hard","harm","hate","have","head","hear","heat","held","hell","help","here","hide","high","hill","hint","hits","hold","hole","home","hope","host","hour","huge","hung","hunt","idea","inch","info","into","item","jobs","join","joke","jump","junk","just","keen","keep","kept","keys","kill","kind","king","knew","know","lack","lady","lain","land","last","late","laws","lazy","lead","leaf","left","legs","lend","less","lets","lied","lies","life","lift","like","line","link","list","live","load","loan","lock","logs","long","look","loop","lose","loss","lost","lots","love","luck","made","mail","main","make","many","mark","mass","mean","meet","mere","mess","mile","mind","mine","miss","mode","more","most","move","much","must","name","near","neck","need","news","next","nice","nine","none","note","numb","obey","odds","omit","once","ones","only","onto","open","ours","over","owed","owes","pack","page","paid","pain","pair","park","part","pass","past","path","pays","peak","pick","pile","pint","pipe","plan","play","plea","plot","plug","plus","poem","poet","poll","pool","poor","port","post","pull","pure","push","puts","putt","quit","race","rain","rare","rate","read","real","rely","rest","ride","rids","ring","rise","risk","road","role","roll","room","root","rule","runs","rush","safe","said","sake","sale","same","save","says","scan","seek","seem","seen","sees","self","sell","send","sent","sets","ship","shop","show","shut","side","sign","site","sits","size","slip","slow","soft","sold","some","soon","sort","spot","stay","step","stop","such","suit","sure","take","talk","tank","tape","task","team","tell","tend","term","test","text","than","that","them","then","they","thin","this","thus","tied","ties","till","time","told","took","town","trap","tree","trip","true","tune","turn","type","ugly","unit","upon","used","user","uses","vary","vast","very","vice","view","vote","wait","walk","wall","want","warm","warn","wash","ways","wear","week","well","went","were","west","what","when","whom","wide","wife","wild","will","wind","wine","wins","wire","wise","wish","with","word","wore","work","worn","year","your","zero"],5:["about","above","abuse","acted","added","admit","adopt","after","again","agree","ahead","aimed","alarm","album","alias","alive","allow","alone","along","alter","among","amuse","angle","angry","annoy","apart","apple","apply","areas","argue","arise","aside","asked","avoid","awake","award","aware","awful","backs","badly","based","bases","basic","basis","bears","began","begin","begun","being","below","binds","bites","black","blame","blank","block","board","books","borne","bound","boxes","brand","break","brief","bring","broke","brown","build","built","bytes","calls","cards","cares","carry","cases","catch","cause","cease","chain","chair","chaos","chars","cheap","child","chips","chose","claim","class","clean","clear","clock","close","coded","codes","comes","costs","could","count","court","cover","crash","crazy","crisp","cross","cycle","daily","dated","dates","datum","deals","dealt","death","deems","delay","depth","digit","dirty","discs","ditto","doing","doors","doubt","dozen","drawn","draws","dream","drink","drive","drops","drove","dying","early","earth","eaten","edits","eight","elect","empty","ended","enemy","enjoy","enter","entry","equal","error","evens","event","every","exact","exist","extra","facts","fails","faith","falls","false","fancy","fatal","fault","feeds","feels","fewer","field","fight","filed","files","fills","final","finds","first","fixed","fixes","flash","flied","flies","float","floor","flown","folks","force","forms","forth","found","frame","fresh","fries","front","fully","funds","funny","gains","games","given","gives","glass","going","goods","grand","grant","graph","grave","great","green","grind","gross","group","grown","grows","guard","guess","guide","habit","hands","handy","hangs","happy","heads","heard","hears","heart","heavy","hello","helps","hence","hides","hints","holds","holes","hoped","hopes","horse","hotel","hours","house","human","hurry","ideal","ideas","image","imply","index","inner","input","issue","items","joins","joint","judge","jumps","keeps","kills","kinds","knock","known","knows","label","lacks","lands","large","lasts","later","leach","leads","learn","least","leave","legal","level","light","liked","likes","limit","lines","links","lists","lived","lives","loads","local","locks","logic","looks","loose","lorry","loses","lower","lucky","lunch","lying","magic","major","makes","march","marks","marry","match","maybe","means","meant","/media/planeword","meets","merit","messy","metal","might","miles","minds","minor","mixed","mixes","model","money","month","moral","mouth","moved","moves","movie","music","naive","named","names","nasty","needs","never","nicer","night","noise","noisy","north","noted","notes","novel","occur","offer","often","older","omits","opens","order","other","ought","outer","owing","owner","pages","pairs","paper","parts","party","patch","pause","payed","peace","phase","phone","picks","piece","place","plain","plane","plans","plant","plays","plots","point","posts","pound","power","press","price","prime","print","prior","prone","proof","prove","pulls","putts","queue","quick","quiet","quite","quits","quote","radio","raise","range","rapid","rates","reach","react","reads","ready","refer","reply","right","river","rooms","rough","round","route","rules","sadly","safer","saint","sales","saved","saves","scale","scene","score","scrap","seeks","seems","sells","sends","sense","serve","seven","shall","shame","shape","share","sharp","sheet","shelf","shell","shift","shoot","shops","short","shown","shows","shuts","sides","sight","signs","silly","since","sites","sizes","skill","sleep","small","smile","solid","solve","sorry","sorts","sound","south","space","spare","speak","speed","spell","spend","spent","spite","split","spoke","spots","staff","stage","stand","start","state","stays","steal","stick","still","stock","stone","stood","stops","store","stuck","study","stuff","style","sugar","suits","table","taken","takes","talks","tanks","tapes","tasks","taste","teach","teeth","tells","tends","terms","tests","thank","their","there","these","thing","think","third","those","three","threw","throw","tight","timed","times","title","today","token","tooth","topic","total","touch","trace","track","train","traps","trash","treat","trees","trial","trick","tried","tries","truck","truly","trunk","trust","truth","turns","twice","tying","typed","types","under","unite","units","until","upper","upset","usage","users","using","usual","vague","valid","value","video","views","visit","vital","voice","votes","waits","walks","walls","wants","warns","waste","watch","water","wears","weeks","weird","wheel","where","which","while","white","whole","whose","wider","wills","woman","women","words","works","world","worry","worse","worst","worth","would","write","wrong","wrote","years","young","yours"],6:["accept","access","accord","across","acting","action","active","actual","adding","adjust","admits","adopts","advice","advise","affair","affect","afford","afraid","agency","agreed","agrees","aiming","allows","almost","alters","always","amount","amused","amuses","animal","annoys","annual","answer","anyone","anyway","appeal","appear","argued","argues","arises","around","arrive","artist","asking","asleep","aspect","assume","assure","attach","attack","attend","author","autumn","avoids","backed","basing","became","become","before","begins","behalf","behave","behind","belong","better","beyond","bigger","binary","biting","bitten","boards","bodies","borrow","bother","bottle","bottom","bought","branch","breach","breaks","bridge","bright","brings","broken","bucket","budget","buffer","builds","buried","buries","button","buying","called","cannot","caught","caused","causes","chance","change","charge","choice","choose","chosen","church","circle","claims","clears","clever","closed","closer","closes","coding","coffee","column","coming","common","copied","copies","corner","counts","county","couple","course","covers","create","credit","crisis","crisps","cursor","cycles","damage","danger","dating","debate","decade","decent","decide","deduce","deemed","deeply","define","degree","delete","demand","depend","derive","design","desire","detail","detect","device","devote","differ","digits","dinner","direct","divide","dollar","domain","double","dozens","driven","driver","drives","during","easier","easily","eating","edited","editor","effect","effort","either","elects","enable","ending","enough","ensure","enters","entire","entity","eraser","errors","escape","evened","events","except","excess","excuse","exists","expand","expect","expert","extend","extent","factor","failed","fairly","fallen","family","famous","faster","father","faults","fewest","fields","figure","filing","filled","finger","finish","finite","firmly","fiscal","fishes","fitted","fixing","flight","floats","flying","follow","forced","forces","forget","forgot","formal","format","formed","former","fourth","freely","french","friend","future","gained","garden","gather","giving","global","gotten","grands","grants","grinds","ground","groups","growth","habits","handed","handle","hanged","happen","harder","hardly","having","headed","header","health","helped","hereby","hidden","hiding","higher","highly","honest","hoping","horses","ignore","images","impact","impose","inches","income","indeed","inform","inputs","insert","inside","insist","intend","invent","invite","issued","issues","itself","joined","killed","kindly","knocks","labels","lacked","ladies","landed","larger","latest","latter","layout","leaded","leader","learns","leaved","leaves","length","lesser","lesson","letter","levels","liable","lights","likely","liking","limits","linear","linked","listed","listen","little","living","loaded","locked","logged","longer","looked","losing","loudly","lowest","mainly","making","manage","manner","manual","marked","market","master","matter","medium","member","memory","merely","merits","method","middle","minded","minute","misled","missed","misses","misuse","mixing","models","modern","modify","moment","months","mostly","mother","motion","moving","myself","namely","naming","nation","nature","nearby","nearer","nearly","needed","nicest","nobody","normal","notice","notify","noting","number","object","obtain","occupy","occurs","offers","office","oldest","opened","oppose","option","orders","origin","others","output","owners","packet","papers","parent","partly","passed","passes","paying","people","period","permit","person","petrol","phrase","picked","pieces","placed","places","planet","played","please","plenty","pocket","points","police","policy","posted","pounds","powers","prefer","pretty","prices","prints","prompt","proper","proved","proves","public","pulled","purely","pushed","pushes","putted","quoted","quotes","raised","raises","random","rarely","rather","reader","really","reason","recall","recent","record","reduce","refers","refuse","regard","region","regret","reject","relate","remain","remark","remind","remote","remove","repair","repeat","report","resort","result","retain","return","reveal","review","rights","rubber","safely","safest","safety","sample","saving","saying","scheme","school","scores","screen","script","search","season","second","secret","secure","seeing","seemed","select","senior","serial","series","served","server","serves","settle","severe","shared","shares","should","showed","signal","signed","simple","simply","single","skills","slight","slower","slowly","smooth","social","solely","solved","solves","sooner","sorted","sought","sounds","source","spaces","speaks","speech","spells","spends","spirit","splits","spoken","spread","spring","square","stable","stages","stands","starts","stated","states","status","stayed","sticks","stones","stored","stores","stream","street","strict","strike","string","strong","struck","stupid","submit","subset","subtle","sudden","suffer","suited","summer","supply","surely","survey","switch","symbol","syntax","system","tables","taking","talked","target","taught","tested","thanks","theory","things","thinks","though","threat","thrown","throws","ticket","timing","titles","topics","toward","tracks","trains","travel","treats","trusts","trying","turned","twelve","twenty","typing","unable","unique","unless","unlike","update","upsets","useful","values","varied","varies","vastly","vector","virtue","vision","volume","waited","walked","wanted","warned","wasted","wastes","weapon","weight","wheels","whilst","widely","widest","willed","window","winter","wished","wishes","within","wonder","wooden","worded","worked","worker","worthy","writer","writes","yellow"],7:["ability","absence","accepts","accords","account","achieve","acquire","actions","address","adopted","advance","advised","advises","affairs","affects","against","allowed","already","altered","amongst","amounts","amusing","ancient","annoyed","another","answers","anybody","apology","appears","applied","applies","approve","arguing","arrange","arrived","arrives","article","aspects","assumed","assumes","assured","assures","attempt","attends","attract","authors","average","avoided","awkward","backing","balance","battery","bearing","because","becomes","believe","belongs","benefit","besides","betting","between","bidding","biggest","binding","biology","bizarre","borrows","bothers","bracket","briefly","brother","brought","burying","calling","capable","capital","captain","careful","carried","carries","catches","causing","central","century","certain","chances","changed","changes","channel","chapter","charged","charges","cheaper","checked","chooses","circuit","citizen","claimed","clarify","classes","cleared","clearer","clearly","closely","closest","closing","collect","college","combine","command","comment","company","compare","complex","compose","compute","concept","concern","confirm","confuse","connect","consist","contact","contain","content","context","control","convert","copying","corners","correct","corrupt","costing","council","counted","counter","country","courses","covered","crashed","crashes","created","creates","culture","cumming","curious","current","cutting","damaged","damages","dealing","decided","decides","declare","deeming","default","defined","defines","degrees","deleted","deletes","deliver","demands","depends","derived","derives","designs","desired","desires","despite","destroy","details","detects","develop","devices","devoted","devotes","digital","directs","discuss","dislike","display","distant","disturb","divided","divides","drastic","drawing","drivers","driving","dropped","dubious","earlier","easiest","economy","editing","edition","editors","effects","efforts","elected","element","enables","ensured","ensures","entered","entitle","entries","equally","evening","exactly","examine","example","exclude","execute","existed","expands","expects","expense","experts","explain","express","extends","extract","extreme","factors","failing","failure","falling","farther","fashion","fastest","feature","federal","feeding","feeling","figures","filling","finally","finding","fingers","firstly","fitting","flashed","flashes","floated","follows","forcing","foreign","forever","forgets","forming","fortune","forward","freedom","friends","further","gaining","garbage","general","genuine","getting","granted","graphic","greater","greatly","grosses","grounds","growing","guessed","guesses","handing","handled","handles","hanging","happens","happily","hardest","harmful","heading","healthy","hearing","heavily","helpful","helping","herself","highest","himself","history","hitting","holding","holiday","however","hundred","husband","ignored","ignores","illegal","imagine","implied","implies","imposed","imposes","improve","incline","include","informs","initial","inserts","insists","install","instant","instead","integer","intends","invalid","invents","invited","invites","involve","isolate","issuing","joining","justify","keeping","killing","knocked","knowing","lacking","landing","largely","largest","leading","leaving","lecture","legally","lessons","letters","letting","library","limited","linking","listing","loading","locking","logging","logical","longest","looking","machine","managed","manager","manages","manuals","marking","massive","matches","matters","maximum","meaning","measure","medical","mediums","meeting","members","mention","message","methods","million","minding","minimal","minimum","minutes","mislead","missing","mistake","mistook","monitor","morning","natural","naughty","nearest","needing","neither","nervous","network","nothing","noticed","notices","nowhere","numbers","numbest","objects","obscure","observe","obtains","obvious","offered","officer","offices","omitted","opening","operate","opinion","opposed","opposes","options","ordered","outside","overall","package","painful","partial","parties","passing","patient","pattern","perfect","perform","perhaps","permits","persons","phrases","picking","picture","placing","planned","plastic","playing","pleased","pleases","pointed","popular","posting","precise","prefers","prepare","present","pressed","presses","presume","prevent","primary","printed","printer","private","problem","process","produce","product","project","promise","propose","protect","protest","provide","proving","publish","pulling","purpose","pushing","putting","qualify","quality","quarter","quicker","quickly","quietly","quoting","raising","rapidly","reached","reaches","readers","readily","reading","reality","reasons","receive","records","recover","reduced","reduces","reflect","refused","refuses","regards","regular","rejects","related","relates","release","remains","remarks","reminds","removal","removed","removes","repeats","replace","replied","replies","reports","request","require","reserve","respect","respond","restart","restore","results","returns","reveals","reverse","rewrite","ridding","roughly","routine","rubbish","running","satisfy","schools","science","scratch","screens","seconds","section","seeking","seeming","selects","selling","seminar","sending","serious","service","serving","session","setting","settled","settles","several","sharing","shopped","shorter","shortly","showing","signals","signing","similar","simpler","sitting","slowest","smaller","society","solving","somehow","someone","soonest","sorting","sounded","sources","speaker","special","specify","spotted","spreads","started","stating","station","staying","stopped","storage","storing","strange","strikes","strings","student","studied","studies","subject","submits","succeed","success","suffers","suffice","suggest","suiting","summary","support","suppose","surface","survive","suspect","suspend","symbols","systems","talking","teacher","teaches","tedious","telling","testing","thereby","thought","through","tickets","tonight","totally","touched","touches","towards","traffic","trained","trapped","treated","trivial","trouble","trusted","turning","typical","unaware","unclear","unhappy","uniform","unknown","unusual","updated","updates","upwards","useless","usually","utility","utterly","vaguely","variety","various","varying","version","visible","waiting","walking","wanting","warning","wasting","watched","watches","wearing","weather","weekend","welcome","western","whereas","whereby","whether","whoever","willing","windows","winning","wishing","without","wonders","wording","workers","working","worried","worries","writing","written"],8:["absolute","academic","accepted","accident","accorded","accounts","accuracy","accurate","achieved","achieves","acquired","acquires","activity","actually","addition","adequate","admitted","adopting","advanced","advances","advising","affected","agreeing","allowing","altering","although","analogue","analysis","announce","annoying","answered","anyplace","anything","anywhere","apparent","appeared","applying","approach","approval","approved","approves","argument","arranged","arranges","arriving","articles","assembly","assuming","assuring","attached","attaches","attempts","attended","attitude","audience","avoiding","becoming","believed","believes","benefits","borrowed","bothered","brackets","branches","breaking","bringing","building","bulletin","business","campaign","capacity","carrying","cassette","catching","category","chairman","changing","channels","charging","cheapest","checking","chemical","children","choosing","claiming","clearest","clearing","collapse","collects","colleges","combined","combines","commands","comments","commonly","compared","compares","compiler","complain","complete","composed","composes","computed","computer","computes","concerns","concrete","confirms","confused","confuses","connects","consider","consists","constant","contains","contents","continue","contract","contrary","contrast","controls","convince","corrects","corrupts","counting","covering","crashing","creating","creation","creature","critical","customer","damaging","database","deciding","decision","declared","declares","decrease","dedicate","defining","definite","deleting","delivers","delivery","depended","deriving","describe","designed","desiring","destroys","detailed","detected","develops","devoting","directed","directly","director","disagree","disaster","discount","discover","displays","distance","distinct","district","disturbs","dividing","division","document","doubtful","dropping","earliest","economic","electing","election","electric","elements","elevator","emphasis","employee","engineer","enormous","ensuring","entering","entirely","entitled","entitles","entrance","estimate","evenings","everyone","evidence","examined","examines","examples","exchange","excluded","excludes","executed","executes","exercise","existing","expanded","expected","explains","explicit","extended","external","facility","familiar","farthest","feasible","features","feedback","finished","finishes","flashing","flexible","floating","followed","fraction","frequent","friendly","function","furthest","gasoline","generate","governor","graduate","granting","graphics","grateful","greatest","grinding","guessing","handling","happened","hardware","harmless","holidays","horrible","hospital","hundreds","identify","identity","ignoring","implying","imposing","improved","improves","incident","inclined","inclines","included","includes","increase","indicate","industry","inferior","infinite","informed","initials","innocent","inputted","inserted","insisted","installs","instance","integers","integral","intended","interact","interest","internal","interval","invented","inviting","involved","involves","irritate","isolated","isolates","keyboard","knocking","language","learning","lectures","lifetime","likewise","limiting","location","machines","magnetic","maintain","majority","managing","marriage","material","meanings","measured","measures","mechanic","meetings","mentions","messages","midnight","military","millions","minority","misleads","mistaken","mistakes","modified","modifies","mornings","movement","multiple","national","negative","networks","nonsense","normally","noticing","nowadays","numerous","objected","observed","observes","obtained","occasion","occupied","occupies","occurred","offering","official","omitting","operated","operates","operator","opinions","opposing","opposite","optional","ordering","ordinary","original","packages","parallel","patterns","peculiar","performs","personal","persuade","physical","pictures","planning","pleasant","pleasing","pointing","policies","position","positive","possible","possibly","powerful","prepared","prepares","presence","presents","preserve","pressing","pressure","prevents","previous","printers","printing","printout","probably","problems","produced","produces","products","progress","projects","promised","promises","promptly","properly","property","proposal","proposed","proposes","prospect","protects","provided","provides","publicly","puncture","purchase","purposes","quantity","question","quickest","quitting","randomly","reaching","reaction","readable","received","receives","recently","recorded","recovers","reducing","referred","reflects","refusing","regarded","register","rejected","relating","relation","relative","released","releases","relevant","reliable","religion","remained","remember","reminded","remotely","removing","repeated","replaced","replaces","replying","reported","requests","required","requires","research","reserved","reserves","resident","resource","respects","response","restored","restores","restrict","resulted","returned","revealed","sciences","searched","searches","secondly","sections","security","selected","sensible","sensibly","sentence","separate","sequence","services","sessions","settling","severely","shopping","shortage","shortest","shutting","simplest","slightly","smallest","software","solution","somebody","sometime","somewhat","sounding","southern","speakers","speaking","specific","spelling","spending","spotting","standard","standing","starting","stations","sticking","stopping","straight","strategy","strength","strictly","striking","strongly","students","studying","subjects","suddenly","suffered","suggests","suitable","suitably","superior","supplied","supplies","supports","supposed","supposes","surprise","survived","survives","suspects","suspends","switched","switches","teaching","tendency","terminal","terribly","thinking","thoughts","thousand","throwing","together","tomorrow","touching","training","transfer","trapping","treating","trusting","ultimate","unlikely","unwanted","updating","vacation","validity","valuable","variable","versions","watching","welcomed","welcomes","whatever","whenever","wherever","withdraw","wondered","worrying","yourself"],9:["abilities","accepting","according","achieving","acquiring","addressed","addresses","admitting","advancing","advantage","advertise","affecting","afternoon","agreement","algorithm","alternate","ambiguous","anonymous","answering","apologies","appearing","approving","arbitrary","arguments","arranging","assembler","assistant","associate","attaching","attempted","attending","attention","authority","automatic","available","backwards","basically","beautiful","beginning","believing","borrowing","bothering","broadcast","buildings","calculate","candidate","cardboard","carefully","certainly","character","collected","combining","commented","committee","community","comparing","complains","complaint","completed","completes","component","composing","computers","computing","concerned","condition","confident","confirmed","confusing","confusion","connected","considers","construct","contained","continued","continues","convinced","convinces","corrected","correctly","corrupted","criticism","currently","dangerous","decisions","declaring","dedicated","dedicates","delivered","depending","described","describes","designing","desirable","desperate","destroyed","detailing","detecting","determine","developed","different","difficult","directing","direction","directory","disappear","discovers","discussed","discusses","displayed","disturbed","documents","education","effective","efficient","elsewhere","embarrass","emergency","encounter","encourage","engineers","entitling","equipment","essential","establish","everybody","examining","excellent","exception","excessive","excluding","exclusive","executing","existence","expanding","expansion","expecting","expensive","explained","expressed","expresses","extending","extension","extensive","extremely","financial","finishing","following","forgotten","functions","generally","generated","generates","gradually","guarantee","happening","hopefully","identical","im/media/planewordte","implement","important","improving","inability","inclining","including","incorrect","increased","increases","indicates","influence","informing","initially","inputting","inserting","insisting","installed","instantly","insurance","intending","intention","interests","interface","interpret","intervals","introduce","inventing","invisible","involving","irritated","irritates","isolating","justified","justifies","knowledge","languages","libraries","literally","locations","magnitude","maintains","materials","measuring","mechanics","mechanism","mentioned","mistaking","modifying","movements","naturally","necessary","necessity","numerical","objecting","objection","observing","obtaining","obviously","occasions","occupying","occurring","operating","operation","operators","otherwise","ourselves","paragraph","partially","perfectly","performed","permanent","permitted","persuaded","persuades","pointless","political","positions","potential","practical","precisely","preferred","preparing","presented","president","prevented","primitive","principle","procedure","processed","processes","processor","producing","promising","proposing","protected","providing","publicity","published","publishes","qualified","qualifies","questions","receiving","reception","recommend","recording","recovered","reduction","redundant","reference","referring","reflected","regarding","registers","regularly","rejecting","releasing","relevance","religious","reluctant","remaining","remembers","reminding","repeating","replacing","reporting","represent","reproduce","requested","requiring","reserving","resourced","resources","responses","restoring","restricts","resulting","returning","revealing","satisfied","satisfies","searching","secondary","secretary","selecting","selection","sensitive","sentences","sequences","seriously","similarly","sincerely","situation","solutions","someplace","something","sometimes","somewhere","specially","specified","specifies","splitting","spreading","standards","statement","statistic","structure","submitted","suffering","suggested","supplying","supported","supposing","surprised","surprises","surviving","suspected","suspended","suspicion","switching","technical","technique","telephone","temporary","terminals","therefore","thousands","transfers","translate","transport","treatment","uncertain","universal","unlimited","upsetting","vacations","variables","variation","virtually","welcoming","wonderful","wondering","yesterday"],10:["absolutely","acceptable","accessible","accidental","activities","additional","addressing","admittedly","advantages","advertised","advertises","algorithms","altogether","apparently","appearance","appreciate","arithmetic","artificial","associated","associates","assumption","atmosphere","attempting","attractive","automobile","background","beforehand","broadcasts","categories","characters","collecting","collection","commenting","commercial","commission","commitment","comparable","comparison","compatible","complained","complaints","completely","completing","complexity","complicate","components","compromise","compulsory","concerning","conclusion","conditions","conference","confirming","connecting","connection","considered","consistent","constraint","containing","continuing","continuous","contribute","controlled","convenient","convention","convincing","correcting","correction","corrupting","dedicating","definitely","definition","definitive","deliberate","delivering","democratic","department","describing","destroying","determined","determines","developing","dictionary","difference","difficulty","directions","disappears","discipline","discourage","discovered","discussing","discussion","displaying","distinctly","distribute","disturbing","documented","electronic","encounters","encouraged","encourages","engineered","equivalent","especially","eventually","everything","everywhere","exceptions","experience","experiment","explaining","expressing","expression","facilities","forgetting","frequently","generating","generation","government","guaranteed","guarantees","historical","implements","importance","impossible","impression","inadequate","incomplete","increasing","indication","individual","industrial","inevitably","installing","interested","interprets","introduced","introduces","invariably","invitation","irrelevant","irritating","justifying","laboratory","literature","maintained","meaningful","membership","mentioning","misleading","mysterious","objections","occasional","operations","opposition","originally","particular","performing","permission","permitting","personally","persuading","phenomenon","philosophy","population","postmaster","preferable","preferably","preference","preferring","presenting","presumably","preventing","previously","principles","processing","processors","production","programmer","properties","proportion","protecting","protection","publishing","qualifying","quantities","reasonable","reasonably","recommends","recovering","references","reflecting","reflection","regardless","registered","regulation","relatively","remembered","repeatedly","represents","requesting","resolution","resourcing","restricted","ridiculous","satisfying","scientific","separately","situations","specifying","statements","statistics","structures","submitting","subsequent","substitute","successful","sufficient","suggesting","suggestion","supervisor","supporting","supposedly","surprising","suspecting","suspending","techniques","technology","television","themselves","thoroughly","throughout","translated","translates","ultimately","underneath","understand","understood","university","unpleasant","unsuitable","whatsoever","widespread","worthwhile"],11:["accordingly","advertising","alternative","application","appreciated","appreciates","appropriate","arrangement","associating","association","authorities","calculation","circulation","combination","communicate","competition","complaining","complicated","complicates","composition","connections","consequence","considering","consistency","constraints","consumption","continually","controlling","conventions","definitions","demonstrate","description","determining","development","differences","differently","disappeared","discouraged","discourages","discovering","discussions","distinction","distinguish","distributed","distributes","documenting","educational","effectively","electronics","embarrassed","embarrasses","encountered","encouraging","engineering","environment","essentially","established","establishes","experienced","experiences","experiments","explanation","forthcoming","fortunately","fundamental","imagination","im/media/planewordtely","implemented","implication","importantly","improvement","independent","individuals","information","institution","instruction","intelligent","interesting","interpreted","introducing","investigate","maintaining","mathematics","meaningless","necessarily","observation","opportunity","performance","permanently","possibility","potentially","practically","preparation","programmers","publication","punctuation","recognition","recommended","registering","regulations","remembering","replacement","represented","requirement","responsible","restricting","significant","statistical","substantial","suggestions","temperature","temporarily","terminology","theoretical","traditional","transferred","translating","translation","understands","unfortunate","unnecessary"],12:["accidentally","alternatives","announcement","applications","appreciating","arrangements","broadcasting","calculations","circumstance","combinations","complicating","consequences","consequently","considerable","considerably","continuation","continuously","contribution","conventional","conversation","deliberately","descriptions","difficulties","disadvantage","disappearing","discouraging","distributing","distribution","embarrassing","encountering","establishing","experiencing","experimental","guaranteeing","implementing","implications","improvements","incidentally","incompatible","inconsistent","individually","institutions","instructions","intelligence","interpreting","intervention","introduction","manipulation","mathematical","nevertheless","occasionally","particularly","professional","recommending","relationship","representing","requirements","respectively","significance","simultaneous","sophisticate","specifically","successfully","sufficiently","transferring","unacceptable","universities","unreasonable"]}});ig.baked=true;ig.module("game.entities.particle").requires("impact.entity").defines(function(){EntityParticle=ig.Entity.extend({size:{x:4,y:4},offset:{x:0,y:0},maxVel:{x:160,y:160},minBounceVelocity:0,type:ig.Entity.TYPE.NONE,checkAgainst:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.LITE,lifetime:5,fadetime:1,bounciness:.6,friction:{x:20,y:0},init:function(e,i,t){this.parent(e,i,t);this.vel.x=(Math.random()*2-1)*this.vel.x;this.vel.y=(Math.random()*2-1)*this.vel.y;this.currentAnim.flip.x=Math.random()>.5;this.currentAnim.flip.y=Math.random()>.5;this.currentAnim.gotoRandomFrame();this.idleTimer=new ig.Timer},update:function(){if(this.idleTimer.delta()>this.lifetime){this.kill();return}this.currentAnim.alpha=this.idleTimer.delta().map(this.lifetime-this.fadetime,this.lifetime,1,0);this.parent()}})});ig.baked=true;ig.module("game.entities.enemy").requires("impact.entity","impact.font","game.words","game.entities.particle").defines(function(){EntityEnemy=ig.Entity.extend({word:"none",remainingWord:"none",health:8,currentLetter:0,targeted:false,font:new ig.Font("/media/planeword/fonts/deja-vu-12.png"),fontActive:new ig.Font("/media/planeword/fonts/deja-vu-12-orange.png"),speed:10,friction:{x:100,y:100},hitTimer:null,dead:false,angle:0,wordLength:{min:8,max:8},soundHit:new ig.Sound("/media/planeword/sounds/hit.ogg"),type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,init:function(e,i,t){this.parent(e,i,t);this.health=Math.random().map(0,1,this.wordLength.min,this.wordLength.max).round();this.word=this.getWordWithLength(this.health);this.remainingWord=this.word;this.hitTimer=new ig.Timer(0);this.dieTimer=new ig.Timer(0);ig.game.registerTarget(this.word.charAt(0),this);this.angle=this.angleTo(ig.game.player)},getWordWithLength:function(e){var i="wtf";for(var t=0;t<20;t++){if(e>=2&&e<=12){i=WORDS[e].random()}else{i=String.fromCharCode("a".charCodeAt(0)+(Math.random()*26).floor())}if(!ig.game.targets[i.charAt(0)].length){return i}}return i},target:function(){this.targeted=true;ig.game.currentTarget=this;ig.game.unregisterTarget(this.word.charAt(0),this);ig.game.entities.erase(this);ig.game.entities.push(this)},draw:function(){ig.system.context.globalCompositeOperation="lighter";this.parent();ig.system.context.globalCompositeOperation="source-over"},drawLabel:function(){if(!this.remainingWord.length){return}var e=this.font.widthForString(this.word);var i=(this.pos.x-6).limit(e+2,ig.system.width-1);var t=(this.pos.y+this.size.y-10).limit(2,ig.system.height-19);var s=ig.system.getDrawPos(i-e-2);var n=ig.system.getDrawPos(t-3);ig.system.context.fillStyle="rgba(0,0,0,0.5)";ig.system.context.fillRect(s,n,e+3,19);if(this.targeted){this.fontActive.draw(this.remainingWord,i,t,ig.Font.ALIGN.RIGHT)}else{this.font.draw(this.remainingWord,i,t,ig.Font.ALIGN.RIGHT)}},kill:function(){ig.game.unregisterTarget(this.word.charAt(0),this);if(ig.game.currentTarget==this){ig.game.currentTarget=null}this.parent()},update:function(){if(this.hitTimer.delta()>0){this.vel.x=Math.cos(this.angle)*this.speed;this.vel.y=Math.sin(this.angle)*this.speed}this.parent();if(this.pos.x<-this.animSheet.width||this.pos.x>ig.system.width+10||this.pos.y>ig.system.height+10||this.pos.y<-this.animSheet.height-30){this.kill()}},hit:function(){var e=this.health<=1?10:4;for(var i=0;i<e;i++){ig.game.spawnEntity(EntityExplosionParticle,this.pos.x,this.pos.y)}this.vel.x=-Math.cos(this.angle)*20;this.vel.y=-Math.sin(this.angle)*20;this.hitTimer.set(.3);this.receiveDamage(1);ig.game.lastKillTimer.set(.3);this.soundHit.play()},isHitBy:function(e){if(this.remainingWord.charAt(0)==e){this.remainingWord=this.remainingWord.substr(1);if(this.remainingWord.length==0){ig.game.currentTarget=null;ig.game.unregisterTarget(this.word.charAt(0),this);this.dead=true}return true}else{return false}},check:function(e){e.kill();this.kill()}});EntityExplosionParticle=EntityParticle.extend({lifetime:.5,fadetime:.5,vel:{x:60,y:60},animSheet:new ig.AnimationSheet("/media/planeword/sprites/explosion.png",32,32),init:function(e,i,t){this.addAnim("idle",5,[0,1,2]);this.parent(e,i,t)},draw:function(){ig.system.context.globalCompositeOperation="lighter";this.parent();ig.system.context.globalCompositeOperation="source-over"},update:function(){this.currentAnim.angle+=.1*ig.system.tick;this.parent()}})});ig.baked=true;ig.module("game.entities.enemy-missle").requires("game.entities.enemy").defines(function(){EntityEnemyMissle=EntityEnemy.extend({size:{x:8,y:15},offset:{x:6,y:7},animSheet:new ig.AnimationSheet("/media/planeword/sprites/missle.png",20,26),health:4,speed:35,targetTimer:null,wordLength:{min:2,max:5},init:function(e,i,t){this.parent(e,i,t);this.addAnim("idle",1,[0]);this.angle=t.angle;this.currentAnim.angle=this.angle-Math.PI/2;this.targetTimer=new ig.Timer(1)},update:function(){var e=this.targetTimer.delta();if(e>0&&e<.7){var i=this.angle-this.angleTo(ig.game.player);this.angle-=i*ig.system.tick*2;this.currentAnim.angle=this.angle-Math.PI/2}this.parent()}})});ig.baked=true;ig.module("game.entities.enemy-mine").requires("game.entities.enemy").defines(function(){EntityEnemyMine=EntityEnemy.extend({size:{x:12,y:12},offset:{x:10,y:10},animSheet:new ig.AnimationSheet("/media/planeword/sprites/mine.png",32,32),speed:30,health:6,wordLength:{min:3,max:6},init:function(e,i,t){this.parent(e,i,t);this.addAnim("idle",1,[0])},update:function(){this.angle=this.angleTo(ig.game.player);this.parent();this.currentAnim.angle+=2*ig.system.tick}})});ig.baked=true;ig.module("game.entities.enemy-destroyer").requires("game.entities.enemy").defines(function(){EntityEnemyDestroyer=EntityEnemy.extend({size:{x:24,y:34},offset:{x:10,y:8},animSheet:new ig.AnimationSheet("/media/planeword/sprites/destroyer.png",43,58),health:8,speed:20,shootTimer:null,wordLength:{min:7,max:10},init:function(e,i,t){this.parent(e,i,t);this.addAnim("idle",1,[0]);this.shootTimer=new ig.Timer(5);this.angle=(Math.random().map(0,1,67,90)+(this.pos.x>ig.system.width/2?22.5:0))*Math.PI/180;this.currentAnim.angle=this.angle-Math.PI/2},update:function(){this.parent();if(this.shootTimer.delta()>0){this.shootTimer.reset();ig.game.spawnEntity(EntityEnemyMissle,this.pos.x+12,this.pos.y+22,{angle:this.angle})}}})});ig.baked=true;ig.module("game.entities.enemy-oppressor").requires("game.entities.enemy").defines(function(){EntityEnemyOppressor=EntityEnemy.extend({size:{x:36,y:58},offset:{x:16,y:10},animSheet:new ig.AnimationSheet("/media/planeword/sprites/oppressor.png",68,88),health:10,speed:15,shootTimer:null,bullets:16,wordLength:{min:9,max:12},init:function(e,i,t){this.parent(e,i-18,t);this.addAnim("idle",1,[0]);this.shootTimer=new ig.Timer(7);this.angle=Math.PI/2},update:function(){this.parent();if(this.shootTimer.delta()>0){var e=140/(this.bullets-1);var i=20;var t=21;for(var s=0;s<this.bullets;s++){var n=i*Math.PI/180;var a=this.pos.x+18+Math.cos(n)*t;var r=this.pos.y+48+Math.sin(n)*t;ig.game.spawnEntity(EntityEnemyBullet,a,r,{angle:n});i+=e}this.shootTimer.reset()}}});EntityEnemyBullet=EntityEnemy.extend({size:{x:2,y:2},offset:{x:8,y:11},animSheet:new ig.AnimationSheet("/media/planeword/sprites/bullet.png",20,24),health:1,speed:50,wordLength:{min:1,max:1},init:function(e,i,t){this.parent(e,i,t);this.addAnim("idle",1,[0]);this.angle=t.angle;this.currentAnim.angle=this.angle-Math.PI/2}})});ig.baked=true;ig.module("game.entities.player").requires("impact.entity","game.entities.particle").defines(function(){EntityPlayer=ig.Entity.extend({animSheet:new ig.AnimationSheet("/media/planeword/sprites/ship.png",24,24),targetAngle:0,size:{x:8,y:8},offset:{x:8,y:8},angle:0,targetAngle:0,soundShoot:new ig.Sound("/media/planeword/sounds/plasma.ogg"),soundMiss:new ig.Sound("/media/planeword/sounds/click.ogg"),soundExplode:new ig.Sound("/media/planeword/sounds/explosion.ogg"),type:ig.Entity.TYPE.A,init:function(e,i,t){this.parent(e,i,t);this.addAnim("idle",60,[0]);this.addAnim("shoot",.05,[3,2,1,0],true);this.addAnim("miss",.05,[4,5,6],true)},draw:function(){ig.system.context.globalCompositeOperation="lighter";this.parent();ig.system.context.globalCompositeOperation="source-over"},update:function(){if(this.currentAnim.loopCount>0){this.currentAnim=this.anims.idle}var e=this.angle-this.targetAngle;if(Math.abs(e)<.02){this.angle=this.targetAngle}else{this.angle-=e*ig.system.tick*10}this.currentAnim.angle=this.angle;this.parent()},kill:function(){ig.game.setGameOver();this.soundExplode.play();for(var e=0;e<50;e++){ig.game.spawnEntity(EntityExplosionParticleFast,this.pos.x,this.pos.y)}this.pos.y=ig.system.height+300;this.parent()},shoot:function(e){this.currentAnim=this.anims.shoot.rewind();var i=ig.game.spawnEntity(EntityPlasma,this.pos.x+6,this.pos.y+4);i.target=e;var t=this.angleTo(e);this.targetAngle=t+Math.PI/2;this.soundShoot.play()},miss:function(){this.currentAnim=this.anims.miss.rewind();this.soundMiss.play()}});EntityPlasma=ig.Entity.extend({speed:800,maxVel:{x:1e3,y:1e3},animSheet:new ig.AnimationSheet("/media/planeword/sprites/plasma.png",96,96),size:{x:4,y:4},offset:{x:46,y:46},distance:1e5,init:function(e,i,t){this.parent(e,i,t);this.addAnim("idle",1,[0])},draw:function(){ig.system.context.globalCompositeOperation="lighter";this.parent();ig.system.context.globalCompositeOperation="source-over"},update:function(){if(this.target){var e=this.distanceTo(this.target);if(e>this.distance||e<this.target.size.y){this.target.hit();this.kill();return}else{var i=this.angleTo(this.target);this.currentAnim.angle=i+Math.PI/2;this.vel.x=Math.cos(i)*this.speed;this.vel.y=Math.sin(i)*this.speed}this.distance=e;this.parent()}else{this.kill()}}});EntityExplosionParticleFast=EntityParticle.extend({lifetime:2,fadetime:2,maxVel:{x:1e3,y:1e3},vel:{x:100,y:100},animSheet:new ig.AnimationSheet("/media/planeword/sprites/explosion.png",32,32),init:function(e,i,t){this.addAnim("idle",5,[0,1,2]);this.parent(e,i,t)},draw:function(){ig.system.context.globalCompositeOperation="lighter";this.parent();ig.system.context.globalCompositeOperation="source-over"},update:function(){this.currentAnim.angle+=.1*ig.system.tick;this.parent()}})});ig.baked=true;ig.module("plugins.impact-splash-loader").requires("impact.loader").defines(function(){ig.ImpactSplashLoader=ig.Loader.extend({endTimer:0,fadeToWhiteTime:200,fadeToGameTime:800,end:function(){this.parent();this.endTime=Date.now();ig.system.setDelegate(this)},run:function(){var e=Date.now()-this.endTime;var i=1;if(e<this.fadeToWhiteTime){this.draw();i=e.map(0,this.fadeToWhiteTime,0,1)}else if(e<this.fadeToGameTime){ig.game.run();i=e.map(this.fadeToWhiteTime,this.fadeToGameTime,1,0)}else{ig.system.setDelegate(ig.game);return}ig.system.context.fillStyle="rgba(255,255,255,"+i+")";ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.realHeight)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var e=ig.system.context;var i=ig.system.realWidth;var t=ig.system.realHeight;var s=i/340/3;var n=(i-340*s)/2;e.fillStyle="rgba(0,0,0,0.8)";e.fillRect(0,0,i,t);e.fillStyle="#888";e.textAlign="right";e.font="10px Arial";e.fillText(i-10,t-10);e.textAlign="left";e.save();e.translate(n,t/2.5);e.scale(s,s);e.lineWidth="3";e.strokeStyle="#666666";e.strokeRect(25,160,300,20);e.fillStyle="#ffffff";e.fillRect(30,165,290*this._drawStatus,10);this.drawPaths("rgb(255,255,255)",ig.ImpactSplashLoader.PATHS_IMPACT);var a=ig.ImpactSplashLoader.PATHS_COMET;a[5][0]=3-Math.random()*this._drawStatus*7;a[5][1]=3-Math.random()*this._drawStatus*10;a[7][0]=29.5-Math.random()*this._drawStatus*10;a[7][1]=40.4-Math.random()*this._drawStatus*10;a[9][0]=16.1-Math.random()*this._drawStatus*10;a[9][1]=36.1-Math.random()*this._drawStatus*5;e.translate(-Math.random()*this._drawStatus*7,-Math.random()*this._drawStatus*5);this.drawPaths("rgb(243,120,31)",a);e.restore()},drawPaths:function(e,i){var t=ig.system.context;t.fillStyle=e;for(var s=0;s<i.length;s+=2){t[ig.ImpactSplashLoader.OPS[i[s]]].apply(t,i[s+1])}}});ig.ImpactSplashLoader.OPS={bp:"beginPath",cp:"closePath",f:"fill",m:"moveTo",l:"lineTo",bc:"bezierCurveTo"};ig.ImpactSplashLoader.PATHS_COMET=["bp",[],"m",[85.1,58.3],"l",[0,0],"l",[29.5,40.4],"l",[16.1,36.1],"l",[54.6,91.6],"bc",[65.2,106.1,83.4,106.7,93.8,95.7],"bc",[103.9,84.9,98.6,67.6,85.1,58.3],"cp",[],"m",[76,94.3],"bc",[68.5,94.3,62.5,88.2,62.5,80.8],"bc",[62.5,73.3,68.5,67.2,76,67.2],"bc",[83.5,67.2,89.6,73.3,89.6,80.8],"bc",[89.6,88.2,83.5,94.3,76,94.3],"cp",[],"f",[]];ig.ImpactSplashLoader.PATHS_IMPACT=["bp",[],"m",[128.8,98.7],"l",[114.3,98.7],"l",[114.3,26.3],"l",[128.8,26.3],"l",[128.8,98.7],"cp",[],"f",[],"bp",[],"m",[159.2,70.1],"l",[163.6,26.3],"l",[184.6,26.3],"l",[184.6,98.7],"l",[170.3,98.7],"l",[170.3,51.2],"l",[164.8,98.7],"l",[151.2,98.7],"l",[145.7,50.7],"l",[145.7,98.7],"l",[134.1,98.7],"l",[134.1,26.3],"l",[155,26.3],"l",[159.2,70.1],"cp",[],"f",[],"bp",[],"m",[204.3,98.7],"l",[189.8,98.7],"l",[189.8,26.3],"l",[211,26.3],"bc",[220,26.3,224.5,30.7,224.5,39.7],"l",[224.5,60.1],"bc",[224.5,69.1,220,73.6,211,73.6],"l",[204.3,73.6],"l",[204.3,98.7],"cp",[],"m",[207.4,38.7],"l",[204.3,38.7],"l",[204.3,61.2],"l",[207.4,61.2],"bc",[209.1,61.2,210,60.3,210,58.6],"l",[210,41.3],"bc",[210,39.5,209.1,38.7,207.4,38.7],"cp",[],"f",[],"bp",[],"m",[262.7,98.7],"l",[248.3,98.7],"l",[247.1,88.2],"l",[238,88.2],"l",[237,98.7],"l",[223.8,98.7],"l",[233.4,26.3],"l",[253.1,26.3],"l",[262.7,98.7],"cp",[],"m",[239.4,75.5],"l",[245.9,75.5],"l",[242.6,43.9],"l",[239.4,75.5],"cp",[],"f",[],"bp",[],"m",[300.9,66.7],"l",[300.9,85.9],"bc",[300.9,94.9,296.4,99.4,287.4,99.4],"l",[278.5,99.4],"bc",[269.5,99.4,265.1,94.9,265.1,85.9],"l",[265.1,39.1],"bc",[265.1,30.1,269.5,25.6,278.5,25.6],"l",[287.2,25.6],"bc",[296.2,25.6,300.7,30.1,300.7,39.1],"l",[300.7,56.1],"l",[286.4,56.1],"l",[286.4,40.7],"bc",[286.4,38.9,285.6,38.1,283.8,38.1],"l",[282.1,38.1],"bc",[280.4,38.1,279.5,38.9,279.5,40.7],"l",[279.5,84.3],"bc",[279.5,86.1,280.4,86.9,282.1,86.9],"l",[284,86.9],"bc",[285.8,86.9,286.6,86.1,286.6,84.3],"l",[286.6,66.7],"l",[300.9,66.7],"cp",[],"f",[],"bp",[],"m",[312.5,98.7],"l",[312.5,39.2],"l",[303.7,39.2],"l",[303.7,26.3],"l",[335.8,26.3],"l",[335.8,39.2],"l",[327,39.2],"l",[327,98.7],"l",[312.5,98.7],"cp",[],"f",[]]});ig.baked=true;ig.module("game.main").requires("impact.game","impact.font","game.menus","game.entities.enemy-missle","game.entities.enemy-mine","game.entities.enemy-destroyer","game.entities.enemy-oppressor","game.entities.player","plugins.impact-splash-loader").defines(function(){Number.zeroes="000000000000";Number.prototype.zeroFill=function(e){var i=this.toString();return Number.zeroes.substr(0,e-i.length)+i};ZType=ig.Game.extend({font:new ig.Font("/media/planeword/fonts/tungsten-18.png"),fontScore:new ig.Font("/media/planeword/fonts/04b03-mono-digits.png"),fontTitle:new ig.Font("/media/planeword/fonts/tungsten-48.png"),fontSelected:new ig.Font("/media/planeword/fonts/tungsten-18-orange.png"),spawnTimer:null,targets:{},currentTarget:null,yScroll:0,backdrop:new ig.Image("/media/planeword/background/backdrop.png"),grid:new ig.Image("/media/planeword/background/grid.png"),music:new ig.Sound("/media/planeword/music/endure.ogg",false),menu:null,mode:0,score:0,streak:0,hits:0,misses:0,multiplier:1,wave:{},gameTime:0,kills:0,difficulty:"NORMAL",init:function(){var e=new ig.BackgroundMap(62,[[1]],this.grid);e.repeat=true;this.backgroundMaps.push(e);ig.music.add(this.music);window.addEventListener("keydown",this.keydown.bind(this),false);ig.input.bind(ig.KEY.ENTER,"ok");ig.input.bind(ig.KEY.SPACE,"ok");ig.input.bind(ig.KEY.MOUSE1,"click");ig.input.bind(ig.KEY.BACKSPACE,"void");ig.input.bind(ig.KEY.ESC,"menu");ig.input.bind(ig.KEY.UP_ARROW,"up");ig.input.bind(ig.KEY.DOWN_ARROW,"down");ig.input.bind(ig.KEY.LEFT_ARROW,"left");ig.input.bind(ig.KEY.RIGHT_ARROW,"right");this.setTitle();window.focus();ig.system.canvas.onclick=function(){window.focus()}},reset:function(){this.entities=[];this.currentTarget=null;this.wave=ig.copy(ZType.WAVES[this.difficulty]);var e="a".charCodeAt(0),i="z".charCodeAt(0);for(var t=e;t<=i;t++){this.targets[String.fromCharCode(t)]=[]}this.score=0;this.rs=0;this.streak=0;this.hits=0;this.misses=0;this.kills=0;this.multiplier=1;this.gameTime=0;this.lastKillTimer=new ig.Timer;this.spawnTimer=new ig.Timer;this.waveEndTimer=null},nextWave:function(){this.wave.wave++;this.wave.spawnWait=(this.wave.spawnWait*.97).limit(.2,1);this.wave.spawn=[];var e=0;for(var i=0;i<this.wave.types.length;i++){var t=this.wave.types[i];t.count-=e;if(this.wave.wave%t.incEvery==0){t.count++;e++}for(var s=0;s<t.count;s++){this.wave.spawn.push(i)}}this.wave.spawn.sort(function(){return Math.random()-.5})},spawnCurrentWave:function(){if(!this.wave.spawn.length){if(this.entities.length<=1&&!this.waveEndTimer){this.waveEndTimer=new ig.Timer(2)}else if(this.waveEndTimer&&this.waveEndTimer.delta()>0){this.waveEndTimer=null;this.nextWave()}}else if(this.spawnTimer.delta()>this.wave.spawnWait){this.spawnTimer.reset();var e=this.wave.types[this.wave.spawn.pop()].type;var i=Math.random().map(0,1,10,ig.system.width-10);var t=-30;this.spawnEntity(e,i,t,{healthBoost:this.wave.healthBoost})}},registerTarget:function(e,i){this.targets[e].push(i)},unregisterTarget:function(e,i){this.targets[e].erase(i)},keydown:function(e){if(e.target.type=="text"||e.ctrlKey||e.shiftKey||e.altKey||this.mode!=ZType.MODE.GAME||this.menu){return true}var i=e.which;if(!(i>64&&i<91||i>96&&i<123)){return true}e.stopPropagation();e.preventDefault();var t=String.fromCharCode(i).toLowerCase();if(!this.currentTarget){var s=this.targets[t];var n=-1;var a=null;for(var r=0;r<s.length;r++){var o=this.player.distanceTo(s[r]);if(o<n||!a){n=o;a=s[r]}}if(a){a.target()}else{this.player.miss();this.multiplier=1;this.streak=0;this.misses++}}if(this.currentTarget){var i=this.currentTarget;var l=this.currentTarget.isHitBy(t);if(l){this.player.shoot(i);this.score+=this.multiplier;this.hits++;this.streak++;if(ZType.MULTIPLIER_TIERS[this.streak]){this.multiplier+=1}if(i.dead){this.kills++}}else{this.player.miss();this.multiplier=1;this.streak=0;this.misses++}}return false},setGame:function(){this.reset();this.menu=null;this.player=this.spawnEntity(EntityPlayer,ig.system.width/2,ig.system.height-50);this.mode=ZType.MODE.GAME;this.nextWave();ig.music.play()},setGameOver:function(){this.mode=ZType.MODE.GAME_OVER;this.menu=new GameOverMenu},setTitle:function(){this.reset();this.mode=ZType.MODE.TITLE;this.menu=new TitleMenu},toggleMenu:function(){if(this.mode==ZType.MODE.TITLE){if(this.menu instanceof TitleMenu){this.menu=new PauseMenu}else{this.menu=new TitleMenu}}else{if(this.menu){this.menu=null}else{this.menu=new PauseMenu}}},update:function(){if(ig.input.pressed("menu")&&!this.menu){this.toggleMenu()}if(this.menu){this.backgroundMaps[0].scroll.y-=100*ig.system.tick;this.menu.update();if(!(this.menu instanceof GameOverMenu)){return}}this.parent();if(this.mode==ZType.MODE.GAME){this.spawnCurrentWave()}else if(ig.input.pressed("ok")){if(this.mode==ZType.MODE.TITLE){this.setGame()}else{this.setTitle()}}this.yScroll-=100*ig.system.tick;this.backgroundMaps[0].scroll.y=this.yScroll;if(this.entities.length>1&&this.mode==ZType.MODE.GAME){this.gameTime+=ig.system.tick}if(this.score-this.rs>100||ig.Timer.timeScale!=1){this.score=0}this.rs=this.score},draw:function(){this.backdrop.draw(0,0);var e=this.lastKillTimer.delta();ig.system.context.globalAlpha=e<0?e*-2+.3:.3;for(var i=0;i<this.backgroundMaps.length;i++){this.backgroundMaps[i].draw()}ig.system.context.globalAlpha=1;for(var i=0;i<this.entities.length;i++){this.entities[i].draw()}for(var i=0;i<this.entities.length;i++){this.entities[i].drawLabel&&this.entities[i].drawLabel()}if(this.mode==ZType.MODE.GAME){this.drawUI()}else if(this.mode==ZType.MODE.TITLE){this.drawTitle()}else if(this.mode==ZType.MODE.GAME_OVER){this.drawGameOver()}if(this.menu){this.menu.draw()}},drawUI:function(){var e="("+this.multiplier+"x) "+this.score.zeroFill(6);this.fontScore.draw(e,ig.system.width-4,ig.system.height-12,ig.Font.ALIGN.RIGHT);if(this.waveEndTimer){var i=-this.waveEndTimer.delta();var t=i>1.7?i.map(2,1.7,0,1):i<1?i.map(1,0,1,0):1;var s=ig.system.width/2;var n=ig.system.height/3+(i<1?Math.cos(1-i).map(1,0,0,250):0);var a=this.wave.wave.zeroFill(3);ig.system.context.globalAlpha=t;this.fontTitle.draw(String.fromCharCode(134)+" "+a+" "+String.fromCharCode(135),s,n,ig.Font.ALIGN.CENTER);ig.system.context.globalAlpha=1}},drawTitle:function(){var e=ig.system.width/2;var i=ig.system.height/4;this.fontTitle.draw(String.fromCharCode(142),e,i,ig.Font.ALIGN.CENTER);ig.system.context.globalAlpha=.8;this.font.draw(String.fromCharCode(127),e,i+90,ig.Font.ALIGN.CENTER);ig.system.context.globalAlpha=1;var t=8;var s=ig.system.height-40;ig.system.context.globalAlpha=.6;this.font.draw("Concept, Graphics & Programming: Dominic Szablewski",t,s);this.font.draw("Music: Andreas Loesch",t,s+20);ig.system.context.globalAlpha=1},drawGameOver:function(){var e=ig.system.width/2;var i=ig.system.height/4;var t=this.hits?this.hits/(this.hits+this.misses)*100:0;var s=this.kills/(this.gameTime/60);this.fontTitle.draw(String.fromCharCode(136),e,i,ig.Font.ALIGN.CENTER);this.fontTitle.draw(String.fromCharCode(137)+" "+this.score.zeroFill(6),e,i+90,ig.Font.ALIGN.CENTER);this.font.draw(String.fromCharCode(138)+" "+t.round(1)+"%",e,i+144,ig.Font.ALIGN.CENTER);this.font.draw(String.fromCharCode(139)+" "+s.round(1),e,i+168,ig.Font.ALIGN.CENTER)}});ZType.MODE={TITLE:0,GAME:1,GAME_OVER:2};ZType.MULTIPLIER_TIERS={25:2,50:3,100:4};ZType.WAVES={NORMAL:{wave:0,spawn:[],spawnWait:1,healthBoost:0,types:[{type:EntityEnemyOppressor,count:0,incEvery:13},{type:EntityEnemyDestroyer,count:0,incEvery:5},{type:EntityEnemyMine,count:3,incEvery:2}]},EXPERT:{wave:0,spawn:[],spawnWait:.7,healthBoost:0,types:[{type:EntityEnemyOppressor,count:1,incEvery:7},{type:EntityEnemyDestroyer,count:2,incEvery:3},{type:EntityEnemyMine,count:9,incEvery:1}]}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ZType.startGame=function(){ig.main("#canvas",ZType,60,360,640,1,ig.ImpactSplashLoader)}});